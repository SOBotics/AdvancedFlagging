// ==UserScript==
// @name         Advanced Flagging
// @namespace    https://github.com/SOBotics
// @version      1.3.7
// @author       Robert Rudman
// @contributor  double-beep
// @match        *://*.stackexchange.com/*
// @match        *://*.stackoverflow.com/*
// @match        *://*.superuser.com/*
// @match        *://*.serverfault.com/*
// @match        *://*.askubuntu.com/*
// @match        *://*.stackapps.com/*
// @match        *://*.mathoverflow.net/*
// @exclude      *://chat.stackexchange.com/*
// @exclude      *://chat.meta.stackexchange.com/*
// @exclude      *://chat.stackoverflow.com/*
// @exclude      *://*.area51.stackexchange.com/*
// @exclude      *://data.stackexchange.com/*
// @exclude      *://stackoverflow.com/c/*
// @exclude      *://winterbash*.stackexchange.com/*
// @exclude      *://api.stackexchange.com/*
// @grant        GM_xmlhttpRequest
// @grant        GM_listValues
// @grant        GM_getValue
// @grant        GM_setValue
// @grant        GM_deleteValue
// @grant        GM_addStyle
// @run-at       document-body
// ==/UserScript==

/*! For license information please see out.js.LICENSE.txt */
(()=>{var e={9666:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ArgumentOutOfRangeError:()=>V.W,AsyncSubject:()=>y.c,BehaviorSubject:()=>v.X,ConnectableObservable:()=>o.c,EMPTY:()=>de.E,EmptyError:()=>Z.K,NEVER:()=>$e,NotFoundError:()=>H.d,Notification:()=>q.P_,NotificationKind:()=>q.W7,ObjectUnsubscribedError:()=>B.N,Observable:()=>r.y,ReplaySubject:()=>m.t,Scheduler:()=>M.b,SequenceError:()=>J.c,Subject:()=>h.x,Subscriber:()=>Q.Lv,Subscription:()=>s.w0,TimeoutError:()=>Y.W,UnsubscriptionError:()=>ee.B,VirtualAction:()=>G,VirtualTimeScheduler:()=>D,animationFrame:()=>$,animationFrameScheduler:()=>O,animationFrames:()=>l,asap:()=>P,asapScheduler:()=>I,async:()=>_.P,asyncScheduler:()=>_.z,bindCallback:()=>se,bindNodeCallback:()=>ae,combineLatest:()=>ue.a,concat:()=>ce.z,config:()=>Be.v,connectable:()=>fe,defer:()=>le.P,empty:()=>de.c,firstValueFrom:()=>X,forkJoin:()=>ye,from:()=>ve.Dp,fromEvent:()=>Ae,fromEventPattern:()=>Ie,generate:()=>_e,identity:()=>U.y,iif:()=>Re,interval:()=>Ee.F,isObservable:()=>z,lastValueFrom:()=>K,merge:()=>Oe,never:()=>De,noop:()=>L.Z,observable:()=>i.L,of:()=>Ge.of,onErrorResumeNext:()=>Qe,pairs:()=>qe,partition:()=>Ue,pipe:()=>j.z,queue:()=>F,queueScheduler:()=>E,race:()=>We.S,range:()=>ze,scheduled:()=>He.x,throwError:()=>Ze._,timer:()=>Ke.H,using:()=>Xe,zip:()=>Ve.$});var r=n(230),o=n(2537),i=n(6766),s=n(204),a={now:function(){return(a.delegate||performance).now()},delegate:void 0},u=n(655),c={schedule:function(e){var t=requestAnimationFrame,n=cancelAnimationFrame,r=c.delegate;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);var o=t((function(t){n=void 0,e(t)}));return new s.w0((function(){return null==n?void 0:n(o)}))},requestAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=c.delegate;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame).apply(void 0,(0,u.fl)(e))},cancelAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=c.delegate;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,(0,u.fl)(e))},delegate:void 0};function l(e){return e?f(e):p}function f(e){var t=c.schedule;return new r.y((function(n){var r=new s.w0,o=e||a,i=o.now(),u=function(s){var a=o.now();n.next({timestamp:e?a:s,elapsed:a-i}),n.closed||r.add(t(u))};return r.add(t(u)),r}))}var d,p=f(),h=n(9248),v=n(6515),m=n(3),y=n(2207),b=n(8337),w=1,g={};function k(e){return e in g&&(delete g[e],!0)}var x=function(e){var t=w++;return g[t]=!0,d||(d=Promise.resolve()),d.then((function(){return k(t)&&e()})),t},C=function(e){k(e)},S={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=S.delegate;return((null==n?void 0:n.setImmediate)||x).apply(void 0,(0,u.fl)(e))},clearImmediate:function(e){var t=S.delegate;return((null==t?void 0:t.clearImmediate)||C)(e)},delegate:void 0},A=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return(0,u.ZT)(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=S.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(S.clearImmediate(n),t.scheduled=void 0)},t}(b.o),T=n(597),I=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,u.ZT)(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1;e=e||n.shift();var o=n.length;do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=n.shift()));if(this.active=!1,t){for(;++r<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(T.v))(A),P=I,_=n(7991),R=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return(0,u.ZT)(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(b.o),E=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,u.ZT)(t,e),t}(T.v))(R),F=E,N=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return(0,u.ZT)(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=c.requestAnimationFrame((function(){return t.flush(void 0)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(c.cancelAnimationFrame(n),t.scheduled=void 0)},t}(b.o),O=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,u.ZT)(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1;e=e||n.shift();var o=n.length;do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=n.shift()));if(this.active=!1,t){for(;++r<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(T.v))(N),$=O,D=function(e){function t(t,n){void 0===t&&(t=G),void 0===n&&(n=1/0);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return(0,u.ZT)(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(T.v),G=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=r,o.active=!0,o.index=t.index=r,o}return(0,u.ZT)(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),Number.isFinite(r)){if(!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(n,r)}return s.w0.EMPTY},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var o=e.actions;return o.push(this),o.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(b.o),M=n(5022),Q=n(6267),q=n(4029),j=n(2749),L=n(2967),U=n(278),W=n(8474);function z(e){return!!e&&(e instanceof r.y||(0,W.m)(e.lift)&&(0,W.m)(e.subscribe))}var Z=n(8084);function K(e){return new Promise((function(t,n){var r,o=!1;e.subscribe({next:function(e){r=e,o=!0},error:n,complete:function(){o?t(r):n(new Z.K)}})}))}function X(e){return new Promise((function(t,n){var r=new Q.Hp({next:function(e){t(e),r.unsubscribe()},error:n,complete:function(){n(new Z.K)}});e.subscribe(r)}))}var V=n(4192),H=n(2519),B=n(9825),J=n(3791),Y=n(5211),ee=n(5948),te=n(4865),ne=n(8720),re=n(3211),oe=n(9526);function ie(e,t,n,o){if(n){if(!(0,te.K)(n))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return ie(e,t,o).apply(this,r).pipe((0,re.Z)(n))};o=n}if(o)return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return ie(e,t).apply(this,n).pipe((0,ne.R)(o),(0,oe.Q)(o))};var i=new y.c;return function(){for(var n=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=!0;return new r.y((function(r){var s=i.subscribe(r);if(a){a=!1;var c=!1,l=!1;t.apply(n,(0,u.fl)(o,[function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e){var r=t.shift();if(null!=r)return void i.error(r)}i.next(1<t.length?t:t[0]),l=!0,c&&i.complete()}])),l&&i.complete(),c=!0}return s}))}}function se(e,t,n){return ie(!1,e,t,n)}function ae(e,t,n){return ie(!0,e,t,n)}var ue=n(564),ce=n(6362),le=n(9917);function fe(e,t){void 0===t&&(t=new h.x);var n=null,o=new r.y((function(e){return t.subscribe(e)}));return o.connect=function(){return n||(n=(0,le.P)((function(){return e})).subscribe(t)),n},o}var de=n(1545),pe=n(9127),he=n(9061),ve=n(52),me=n(2457);function ye(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,me.jO)(e),r=(0,he.D)(e),o=r.args,i=r.keys;return n?be(o,i).pipe((0,pe.U)((function(e){return n.apply(void 0,(0,u.fl)(e))}))):be(o,i)}function be(e,t){return new r.y((function(n){var r=e.length;if(0!==r)for(var o=new Array(r),i=0,s=0,a=function(a){var u=(0,ve.Xf)(e[a]),c=!1;n.add(u.subscribe({next:function(e){c||(c=!0,s++),o[a]=e},error:function(e){return n.error(e)},complete:function(){++i!==r&&c||(s===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=o[n],e}),{}):o),n.complete())}}))},u=0;u<r;u++)a(u);else n.complete()}))}var we=n(3994),ge=n(5685),ke=n(2677),xe=["addListener","removeListener"],Ce=["addEventListener","removeEventListener"],Se=["on","off"];function Ae(e,t,n,o){if((0,W.m)(n)&&(o=n,n=void 0),o)return Ae(e,t,n).pipe((0,re.Z)(o));var i=(0,u.CR)(function(e){return(0,W.m)(e.addEventListener)&&(0,W.m)(e.removeEventListener)}(e)?Ce.map((function(r){return function(o){return e[r](t,o,n)}})):function(e){return(0,W.m)(e.addListener)&&(0,W.m)(e.removeListener)}(e)?xe.map(Te(e,t)):function(e){return(0,W.m)(e.on)&&(0,W.m)(e.off)}(e)?Se.map(Te(e,t)):[],2),s=i[0],a=i[1];return!s&&(0,ge.z)(e)?(0,we.z)((function(e){return Ae(e,t,n)}))((0,ke.h)(e)):new r.y((function(e){if(!s)throw new TypeError("Invalid event target");var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return s(t),function(){return a(t)}}))}function Te(e,t){return function(n){return function(r){return e[n](t,r)}}}function Ie(e,t,n){return n?Ie(e,t).pipe((0,re.Z)(n)):new r.y((function(n){var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)},o=e(r);return(0,W.m)(t)?function(){return t(r,o)}:void 0}))}var Pe=n(8077);function _e(e,t,n,r,o){var i,s,a,c;function l(){var e;return(0,u.Jh)(this,(function(r){switch(r.label){case 0:e=c,r.label=1;case 1:return t&&!t(e)?[3,4]:[4,a(e)];case 2:r.sent(),r.label=3;case 3:return e=n(e),[3,1];case 4:return[2]}}))}return 1===arguments.length?(c=(i=e).initialState,t=i.condition,n=i.iterate,s=i.resultSelector,a=void 0===s?U.y:s,o=i.scheduler):(c=e,!r||(0,te.K)(r)?(a=U.y,o=r):a=r),(0,le.P)(o?function(){return(0,Pe.Q)(l(),o)}:l)}function Re(e,t,n){return(0,le.P)((function(){return e()?t:n}))}var Ee=n(6697),Fe=n(4367),Ne=n(8936);function Oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,me.yG)(e),r=(0,me._6)(e,1/0),o=(0,Ne.k)(e);return o.length?1===o.length?(0,ve.Xf)(o[0]):(0,Fe.J)(r)((0,ke.h)(o,n)):de.E}var $e=new r.y(L.Z);function De(){return $e}var Ge=n(2817),Me=n(5873);function Qe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Me.h)((0,Ne.k)(e))(de.E)}function qe(e,t){return(0,ve.Dp)(Object.entries(e),t)}var je=n(414),Le=n(4975);function Ue(e,t,n){return[(0,Le.h)(t,n)((0,ve.Xf)(e)),(0,Le.h)((0,je.f)(t,n))((0,ve.Xf)(e))]}var We=n(7901);function ze(e,t,n){if(null==t&&(t=e,e=0),t<=0)return de.E;var o=t+e;return new r.y(n?function(t){var r=e;return n.schedule((function(){r<o?(t.next(r++),this.schedule()):t.complete()}))}:function(t){for(var n=e;n<o&&!t.closed;)t.next(n++);t.complete()})}var Ze=n(3610),Ke=n(6625);function Xe(e,t){return new r.y((function(n){var r=e(),o=t(r);return(o?(0,ve.Xf)(o):de.E).subscribe(n),function(){r&&r.unsubscribe()}}))}var Ve=n(8234),He=n(2155),Be=n(3912)},2207:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(655),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasValue=!1,t.isComplete=!1,t}return(0,r.ZT)(t,e),t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.hasValue,o=t.value,i=t.thrownError,s=t.isStopped;n?e.error(i):s&&(r&&e.next(o),e.complete())},t.prototype.next=function(e){this.isStopped||(this.value=e,this.hasValue=!0)},t.prototype.complete=function(){var t=this,n=t.hasValue,r=t.value;t.isComplete||(this.isComplete=!0,n&&e.prototype.next.call(this,r),e.prototype.complete.call(this))},t}(n(9248).x)},6515:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var r=n(655),o=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return(0,r.ZT)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(n(9248).x)},4029:(e,t,n)=>{"use strict";n.d(t,{W7:()=>r,P_:()=>u,kV:()=>c});var r,o=n(1545),i=n(2817),s=n(3610),a=n(8474);!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(r||(r={}));var u=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){return c(this,e)},e.prototype.do=function(e,t,n){var r=this,o=r.kind,i=r.value,s=r.error;return"N"===o?null==e?void 0:e(i):"E"===o?null==t?void 0:t(s):null==n?void 0:n()},e.prototype.accept=function(e,t,n){var r;return(0,a.m)(null===(r=e)||void 0===r?void 0:r.next)?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e=this,t=e.kind,n=e.value,r=e.error,a="N"===t?(0,i.of)(n):"E"===t?(0,s._)(r):"C"===t?o.E:0;if(!a)throw new TypeError("Unexpected notification kind "+t);return a},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function c(e,t){var n,r,o,i=e,s=i.kind,a=i.value,u=i.error;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(n=t.next)||void 0===n||n.call(t,a):"E"===s?null===(r=t.error)||void 0===r||r.call(t,u):null===(o=t.complete)||void 0===o||o.call(t)}},230:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var r=n(6267),o=n(204),i=n(6766),s=n(2749),a=n(3912),u=n(8474),c=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i,s=(i=e)&&i instanceof r.Lv||function(e){return e&&(0,u.m)(e.next)&&(0,u.m)(e.error)&&(0,u.m)(e.complete)}(i)&&(0,o.Nn)(i)?e:new r.Hp(e,t,n),c=this.operator,l=this.source;return s.add(c?c.call(s,l):l||a.v.useDeprecatedSynchronousErrorHandling?this._subscribe(s):this._trySubscribe(s)),s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){if(a.v.useDeprecatedSynchronousErrorHandling)throw t;e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=l(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(e){r(e),null==o||o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[i.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?(0,s.U)(e)(this):this},e.prototype.toPromise=function(e){var t=this;return new(e=l(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function l(e){var t;return null!==(t=null!=e?e:a.v.Promise)&&void 0!==t?t:Promise}},3:(e,t,n)=>{"use strict";n.d(t,{t:()=>s});var r=n(655),o=n(9248),i=n(4318),s=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=i.l);var o=e.call(this)||this;return o.bufferSize=t,o.windowTime=n,o.timestampProvider=r,o.buffer=[],o.infiniteTimeWindow=!0,o.infiniteTimeWindow=n===1/0,o.bufferSize=Math.max(1,t),o.windowTime=Math.max(1,n),o}return(0,r.ZT)(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,o=n.buffer,i=n.infiniteTimeWindow,s=n.timestampProvider,a=n.windowTime;r||(o.push(t),!i&&o.push(s.now()+a)),this.trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this.trimBuffer();for(var t=this._innerSubscribe(e),n=this.infiniteTimeWindow,r=this.buffer.slice(),o=0;o<r.length&&!e.closed;o+=n?1:2)e.next(r[o]);return this._checkFinalizedStatuses(e),t},t.prototype.trimBuffer=function(){var e=this,t=e.bufferSize,n=e.timestampProvider,r=e.buffer,o=e.infiniteTimeWindow,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){for(var s=n.now(),a=0,u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}},t}(o.x)},5022:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(4318),o=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=r.l.now,e}()},9248:(e,t,n)=>{"use strict";n.d(t,{x:()=>u});var r=n(655),o=n(230),i=n(204),s=n(9825),a=n(3699),u=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,r.ZT)(t,e),t.prototype.lift=function(e){var t=new c(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new s.N},t.prototype.next=function(e){var t,n;if(this._throwIfClosed(),!this.isStopped){var o=this.observers.slice();try{for(var i=(0,r.XA)(o),s=i.next();!s.done;s=i.next())s.value.next(e)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},t.prototype.error=function(e){if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;for(var t=this.observers;t.length;)t.shift().error(e)}},t.prototype.complete=function(){if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;for(var e=this.observers;e.length;)e.shift().complete()}},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,o=n.isStopped,s=n.observers;return r||o?i.Lc:(s.push(e),new i.w0((function(){return(0,a.P)(t.observers,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new o.y;return e.source=this,e},t.create=function(e,t){return new c(e,t)},t}(o.y),c=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return(0,r.ZT)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:i.Lc},t}(u)},6267:(e,t,n)=>{"use strict";n.d(t,{Hp:()=>p,Lv:()=>d});var r=n(655),o=n(8474),i=n(204),s=n(3912),a=n(5),u=n(2967),c=l("C",void 0,void 0);function l(e,t,n){return{kind:e,value:t,error:n}}var f=n(8380),d=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,(0,i.Nn)(t)&&t.add(n)):n.destination=m,n}return(0,r.ZT)(t,e),t.create=function(e,t,n){return new p(e,t,n)},t.prototype.next=function(e){this.isStopped?v(function(e){return l("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?v(l("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?v(c,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t}(i.w0),p=function(e){function t(t,n,r){var i=e.call(this)||this;if(i.destination=m,(t||n||r)&&t!==m){var a=void 0;if((0,o.m)(t))a=t;else if(t){var c;a=t.next,n=t.error,r=t.complete,i&&s.v.useDeprecatedNextContext?(c=Object.create(t)).unsubscribe=function(){return i.unsubscribe()}:c=t,a=null==a?void 0:a.bind(c),n=null==n?void 0:n.bind(c),r=null==r?void 0:r.bind(c)}i.destination={next:a||u.Z,error:n||h,complete:r||u.Z}}return i}return(0,r.ZT)(t,e),t}(d);function h(e){if(s.v.useDeprecatedSynchronousErrorHandling)throw e;(0,a.h)(e)}function v(e,t){var n=s.v.onStoppedNotification;n&&f.z.setTimeout((function(){return n(e,t)}))}var m={closed:!0,next:u.Z,error:h,complete:u.Z}},204:(e,t,n)=>{"use strict";n.d(t,{w0:()=>a,Lc:()=>u,Nn:()=>c});var r=n(655),o=n(8474),i=n(5948),s=n(3699),a=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,s,a;if(!this.closed){this.closed=!0;var u=this._parentage;if(Array.isArray(u))try{for(var c=(0,r.XA)(u),f=c.next();!f.done;f=c.next())f.value.remove(this)}catch(t){e={error:t}}finally{try{f&&!f.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}else null==u||u.remove(this);var d=this.initialTeardown;if((0,o.m)(d))try{d()}catch(e){a=e instanceof i.B?e.errors:[e]}var p=this._teardowns;if(p){this._teardowns=null;try{for(var h=(0,r.XA)(p),v=h.next();!v.done;v=h.next()){var m=v.value;try{l(m)}catch(e){a=null!=a?a:[],e instanceof i.B?a=(0,r.fl)(a,e.errors):a.push(e)}}}catch(e){n={error:e}}finally{try{v&&!v.done&&(s=h.return)&&s.call(h)}finally{if(n)throw n.error}}}if(a)throw new i.B(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)l(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&(0,s.P)(t,e)},e.prototype.remove=function(t){var n=this._teardowns;n&&(0,s.P)(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),u=a.EMPTY;function c(e){return e instanceof a||e&&"closed"in e&&(0,o.m)(e.remove)&&(0,o.m)(e.add)&&(0,o.m)(e.unsubscribe)}function l(e){(0,o.m)(e)?e():e.unsubscribe()}},3912:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2537:(e,t,n)=>{"use strict";n.d(t,{c:()=>u});var r=n(655),o=n(230),i=n(204),s=n(218),a=n(2566),u=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._subject=null,r._refCount=0,r._connection=null,r}return(0,r.ZT)(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new i.w0;var n=this.getSubject();t.add(this.source.subscribe(new a.Q(n,void 0,(function(t){e._teardown(),n.error(t)}),(function(){e._teardown(),n.complete()}),(function(){return e._teardown()})))),t.closed&&(this._connection=null,t=i.w0.EMPTY)}return t},t.prototype.refCount=function(){return(0,s.x)()(this)},t}(o.y)},564:(e,t,n)=>{"use strict";n.d(t,{a:()=>f,l:()=>p});var r=n(655),o=n(230),i=n(9061),s=n(6267),a=n(52),u=n(278),c=n(3211),l=n(2457);function f(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,l.yG)(e),r=(0,l.jO)(e),s=(0,i.D)(e),f=s.args,d=s.keys;if(0===f.length)return(0,a.Dp)([],n);var h=new o.y(p(f,n,d?function(e){for(var t={},n=0;n<e.length;n++)t[d[n]]=e[n];return t}:u.y));return r?h.pipe((0,c.Z)(r)):h}var d=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o._next=n,o.shouldComplete=r,o}return(0,r.ZT)(t,e),t.prototype._complete=function(){this.shouldComplete()?e.prototype._complete.call(this):this.unsubscribe()},t}(s.Lv);function p(e,t,n){return void 0===n&&(n=u.y),function(r){h(t,(function(){for(var o=e.length,i=new Array(o),s=o,c=e.map((function(){return!1})),l=!0,f=function(o){h(t,(function(){(0,a.Dp)(e[o],t).subscribe(new d(r,(function(e){i[o]=e,l&&(c[o]=!0,l=!c.every(u.y)),l||r.next(n(i.slice()))}),(function(){return 0==--s})))}),r)},p=0;p<o;p++)f(p)}),r)}}function h(e,t,n){e?n.add(e.schedule(t)):t()}},6362:(e,t,n)=>{"use strict";n.d(t,{z:()=>s});var r=n(9834),o=n(2677),i=n(2457);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,r.u)()((0,o.h)(e,(0,i.yG)(e)))}},9917:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var r=n(230),o=n(52);function i(e){return new r.y((function(t){(0,o.Xf)(e()).subscribe(t)}))}},1545:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,c:()=>i});var r=n(230),o=new r.y((function(e){return e.complete()}));function i(e){return e?function(e){return new r.y((function(t){return e.schedule((function(){return t.complete()}))}))}(e):o}},52:(e,t,n)=>{"use strict";n.d(t,{Dp:()=>m,Xf:()=>y,OO:()=>b});var r=n(655),o=n(5685),i=n(3841),s=n(9768),a=n(6766),u=n(230),c=n(2155),l=n(8474),f=n(5),d=n(1764),p=n(8430),h=n(8729),v=n(1837);function m(e,t){return t?(0,c.x)(e,t):y(e)}function y(e){if(e instanceof u.y)return e;if(null!=e){if((0,d.c)(e))return m=e,new u.y((function(e){var t=m[a.L]();if((0,l.m)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if((0,o.z)(e))return b(e);if((0,i.t)(e))return c=e,new u.y((function(e){c.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,f.h)}));if((0,p.D)(e))return n=e,new u.y((function(e){(function(e,t){var n,o,i,s;return(0,r.mG)(this,void 0,void 0,(function(){var a,u;return(0,r.Jh)(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=(0,r.KL)(e),c.label=1;case 1:return[4,n.next()];case 2:if((o=c.sent()).done)return[3,4];a=o.value,t.next(a),c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=c.sent(),i={error:u},[3,11];case 6:return c.trys.push([6,,9,10]),o&&!o.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(n,e).catch((function(t){return e.error(t)}))}));if((0,v.T)(e))return t=e,new u.y((function(e){for(var n=t[s.hZ]();!e.closed;){var r=n.next(),o=r.done,i=r.value;o?e.complete():e.next(i)}return function(){return(0,l.m)(null==n?void 0:n.return)&&n.return()}}))}var t,n,c,m;throw(0,h.z)(e)}function b(e){return new u.y((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}},2677:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(3217),o=n(52);function i(e,t){return t?(0,r.r)(e,t):(0,o.OO)(e)}},6697:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});var r=n(7991),o=n(6625);function i(e,t){return void 0===e&&(e=0),void 0===t&&(t=r.z),e<0&&(e=0),(0,o.H)(e,e,t)}},2817:(e,t,n)=>{"use strict";n.d(t,{of:()=>s});var r=n(2677),o=n(3217),i=n(2457);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,i.yG)(e);return n?(0,o.r)(e,n):(0,r.h)(e)}},7901:(e,t,n)=>{"use strict";n.d(t,{S:()=>a,R:()=>u});var r=n(230),o=n(52),i=n(8936),s=n(2566);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=(0,i.k)(e)).length?(0,o.Xf)(e[0]):new r.y(u(e))}function u(e){return function(t){for(var n=[],r=function(r){n.push((0,o.Xf)(e[r]).subscribe(new s.Q(t,(function(e){if(n){for(var o=0;o<n.length;o++)o!==r&&n[o].unsubscribe();n=null}t.next(e)}))))},i=0;n&&!t.closed&&i<e.length;i++)r(i)}}},3610:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(230),o=n(8474);function i(e,t){var n=(0,o.m)(e)?e:function(){return e},i=function(e){return e.error(n())};return new r.y(t?function(e){return t.schedule(i,0,e)}:i)}},6625:(e,t,n)=>{"use strict";n.d(t,{H:()=>a});var r=n(230),o=n(7991),i=n(4865),s=n(1454);function a(e,t,n){void 0===e&&(e=0),void 0===n&&(n=o.P);var a=-1;return null!=t&&((0,i.K)(t)?n=t:a=t),new r.y((function(t){var r=(0,s.q)(e)?+e-n.now():e;r<0&&(r=0);var o=0;return n.schedule((function(){t.closed||(t.next(o++),0<=a?this.schedule(void 0,a):t.complete())}),r)}))}},8234:(e,t,n)=>{"use strict";n.d(t,{$:()=>l});var r=n(655),o=n(230),i=n(52),s=n(8936),a=n(1545),u=n(2566),c=n(2457);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,c.jO)(e),l=(0,s.k)(e);return l.length?new o.y((function(e){var t=l.map((function(){return[]})),o=l.map((function(){return!1}));e.add((function(){t=o=null}));for(var s=function(s){(0,i.Xf)(l[s]).subscribe(new u.Q(e,(function(i){if(t[s].push(i),t.every((function(e){return e.length}))){var a=t.map((function(e){return e.shift()}));e.next(n?n.apply(void 0,(0,r.fl)(a)):a),t.some((function(e,t){return!e.length&&o[t]}))&&e.complete()}}),void 0,(function(){o[s]=!0,!t[s].length&&e.complete()})))},a=0;!e.closed&&a<l.length;a++)s(a);return function(){t=o=null}})):a.E}},2566:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o});var r=n(655),o=function(e){function t(t,n,r,o,i){var s=e.call(this,t)||this;return s.onUnsubscribe=i,s._next=n?function(e){try{n(e)}catch(e){this.destination.error(e)}}:e.prototype._next,s._error=r?function(e){try{r(e)}catch(e){this.destination.error(e)}this.unsubscribe()}:e.prototype._error,s._complete=o?function(){try{o()}catch(e){this.destination.error(e)}this.unsubscribe()}:e.prototype._complete,s}return(0,r.ZT)(t,e),t.prototype.unsubscribe=function(){var t;!this.closed&&(null===(t=this.onUnsubscribe)||void 0===t||t.call(this)),e.prototype.unsubscribe.call(this)},t}(n(6267).Lv)},9834:(e,t,n)=>{"use strict";n.d(t,{u:()=>o});var r=n(4367);function o(){return(0,r.J)(1)}},4975:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(6798),o=n(2566);function i(e,t){return(0,r.e)((function(n,r){var i=0;n.subscribe(new o.Q(r,(function(n){return e.call(t,n,i++)&&r.next(n)})))}))}},9127:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(6798),o=n(2566);function i(e,t){return(0,r.e)((function(n,r){var i=0;n.subscribe(new o.Q(r,(function(n){r.next(e.call(t,n,i++))})))}))}},4367:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});var r=n(3994),o=n(278);function i(e){return void 0===e&&(e=1/0),(0,r.z)(o.y,e)}},9007:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var r=n(52),o=n(2566);function i(e,t,n,i,s,a,u,c){var l=[],f=0,d=0,p=!1,h=function(){!p||l.length||f||t.complete()},v=function(e){return f<i?m(e):l.push(e)},m=function(e){a&&t.next(e),f++,(0,r.Xf)(n(e,d++)).subscribe(new o.Q(t,(function(e){null==s||s(e),a?v(e):t.next(e)}),void 0,(function(){f--;for(var e=function(){var e=l.shift();u?t.add(u.schedule((function(){return m(e)}))):m(e)};l.length&&f<i;)e();h()})))};return e.subscribe(new o.Q(t,v,void 0,(function(){p=!0,h()}))),function(){l=null,null==c||c()}}},3994:(e,t,n)=>{"use strict";n.d(t,{z:()=>u,V:()=>c});var r=n(9127),o=n(52),i=n(6798),s=n(9007),a=n(8474);function u(e,t,n){return void 0===n&&(n=1/0),(0,a.m)(t)?u((function(n,i){return(0,r.U)((function(e,r){return t(n,e,i,r)}))((0,o.Xf)(e(n,i)))}),n):("number"==typeof t&&(n=t),(0,i.e)((function(t,r){return(0,s.p)(t,r,e,n)})))}var c=u},9526:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});var r=n(6798),o=n(2566);function i(e,t){return void 0===t&&(t=0),(0,r.e)((function(n,r){n.subscribe(new o.Q(r,(function(n){return r.add(e.schedule((function(){return r.next(n)}),t))}),(function(n){return r.add(e.schedule((function(){return r.error(n)}),t))}),(function(){return r.add(e.schedule((function(){return r.complete()}),t))})))}))}},5873:(e,t,n)=>{"use strict";n.d(t,{h:()=>c});var r=n(655),o=n(6798),i=n(52),s=n(8936),a=n(2566),u=n(2967);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,s.k)(e);return(0,o.e)((function(e,t){var o=(0,r.fl)([e],n),s=function(){if(!t.closed)if(o.length>0){var e=void 0;try{e=(0,i.Xf)(o.shift())}catch(e){return void s()}var n=new a.Q(t,void 0,u.Z,u.Z);t.add(e.subscribe(n)),n.add(s)}else t.complete()};s()}))}},218:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(6798),o=n(2566);function i(){return(0,r.e)((function(e,t){var n=null;e._refCount++;var r=new o.Q(t,void 0,void 0,void 0,(function(){if(!e||e._refCount<=0||0<--e._refCount)n=null;else{var r=e._connection,o=n;n=null,!r||o&&r!==o||r.unsubscribe(),t.unsubscribe()}}));e.subscribe(r),r.closed||(n=e.connect())}))}},8720:(e,t,n)=>{"use strict";n.d(t,{R:()=>o});var r=n(6798);function o(e,t){return void 0===t&&(t=0),(0,r.e)((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}},5211:(e,t,n)=>{"use strict";n.d(t,{W:()=>l,V:()=>f});var r=n(7991),o=n(1454),i=n(6798),s=n(52),a=n(1819),u=n(7853),c=n(2566),l=(0,a.d)((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}));function f(e,t){var n=(0,o.q)(e)?{first:e}:"number"==typeof e?{each:e}:e,a=n.first,l=n.each,f=n.with,p=void 0===f?d:f,h=n.scheduler,v=void 0===h?null!=t?t:r.z:h,m=n.meta,y=void 0===m?null:m;if(null==a&&null==l)throw new TypeError("No timeout provided.");return(0,i.e)((function(e,t){var n,r,o=null,i=0,f=function(e){r=(0,u.A)(t,v,(function(){n.unsubscribe(),(0,s.Xf)(p({meta:y,lastValue:o,seen:i})).subscribe(t)}),e)};n=e.subscribe(new c.Q(t,(function(e){null==r||r.unsubscribe(),i++,t.next(o=e),l>0&&f(l)}),void 0,void 0,(function(){(null==r?void 0:r.closed)||null==r||r.unsubscribe(),o=null}))),f(null!=a?"number"==typeof a?a:+a-v.now():l)}))}function d(e){throw new l(e)}},3217:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var r=n(230);function o(e,t){return new r.y((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}},8077:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var r=n(230),o=n(9768),i=n(8474),s=n(7853);function a(e,t){return new r.y((function(n){var r;return n.add(t.schedule((function(){r=e[o.hZ](),(0,s.A)(n,t,(function(){var e=r.next(),t=e.value;e.done?n.complete():(n.next(t),this.schedule())}))}))),function(){return(0,i.m)(null==r?void 0:r.return)&&r.return()}}))}},2155:(e,t,n)=>{"use strict";n.d(t,{x:()=>h});var r=n(230),o=n(204),i=n(6766),s=n(3217),a=n(8077),u=n(1764),c=n(3841),l=n(5685),f=n(1837),d=n(8430),p=n(8729);function h(e,t){if(null!=e){if((0,u.c)(e))return function(e,t){return new r.y((function(n){var r=new o.w0;return r.add(t.schedule((function(){var o=e[i.L]();r.add(o.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if((0,l.z)(e))return(0,s.r)(e,t);if((0,c.t)(e))return function(e,t){return new r.y((function(n){return t.schedule((function(){return e.then((function(e){n.add(t.schedule((function(){n.next(e),n.add(t.schedule((function(){return n.complete()})))})))}),(function(e){n.add(t.schedule((function(){return n.error(e)})))}))}))}))}(e,t);if((0,d.D)(e))return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y((function(n){var r=new o.w0;return r.add(t.schedule((function(){var o=e[Symbol.asyncIterator]();r.add(t.schedule((function(){var e=this;o.next().then((function(t){t.done?n.complete():(n.next(t.value),e.schedule())}))})))}))),r}))}(e,t);if((0,f.T)(e))return(0,a.Q)(e,t)}throw(0,p.z)(e)}},8337:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});var r=n(655),o=function(e){function t(t,n){return e.call(this)||this}return(0,r.ZT)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(204).w0),i={setInterval:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i.delegate;return((null==n?void 0:n.setInterval)||setInterval).apply(void 0,(0,r.fl)(e))},clearInterval:function(e){var t=i.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},s=n(3699),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return(0,r.ZT)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),i.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;i.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,s.P)(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(o)},597:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var r=n(655),o=n(5022),i=function(e){function t(t,n){void 0===n&&(n=o.b.now);var r=e.call(this,t,n)||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}return(0,r.ZT)(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(o.b)},7991:(e,t,n)=>{"use strict";n.d(t,{z:()=>o,P:()=>i});var r=n(8337),o=new(n(597).v)(r.o),i=o},4318:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var r={now:function(){return(r.delegate||Date).now()},delegate:void 0}},8380:(e,t,n)=>{"use strict";n.d(t,{z:()=>o});var r=n(655),o={setTimeout:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,(0,r.fl)(e))},clearTimeout:function(e){var t=o.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},9768:(e,t,n)=>{"use strict";n.d(t,{hZ:()=>r});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6766:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},4192:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var r=(0,n(1819).d)((function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}))},8084:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});var r=(0,n(1819).d)((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}))},2519:(e,t,n)=>{"use strict";n.d(t,{d:()=>r});var r=(0,n(1819).d)((function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}}))},9825:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});var r=(0,n(1819).d)((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}))},3791:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var r=(0,n(1819).d)((function(e){return function(t){e(this),this.name="SequenceError",this.message=t}}))},5948:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var r=(0,n(1819).d)((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}))},2457:(e,t,n)=>{"use strict";n.d(t,{jO:()=>s,yG:()=>a,_6:()=>u});var r=n(8474),o=n(4865);function i(e){return e[e.length-1]}function s(e){return(0,r.m)(i(e))?e.pop():void 0}function a(e){return(0,o.K)(i(e))?e.pop():void 0}function u(e,t){return"number"==typeof i(e)?e.pop():t}},9061:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var r=Array.isArray,o=Object.getPrototypeOf,i=Object.prototype,s=Object.keys;function a(e){if(1===e.length){var t=e[0];if(r(t))return{args:t,keys:null};if((a=t)&&"object"==typeof a&&o(a)===i){var n=s(t);return{args:n.map((function(e){return t[e]})),keys:n}}}var a;return{args:e,keys:null}}},8936:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var r=Array.isArray;function o(e){return 1===e.length&&r(e[0])?e[0]:e}},3699:(e,t,n)=>{"use strict";function r(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}n.d(t,{P:()=>r})},7853:(e,t,n)=>{"use strict";function r(e,t,n,r){void 0===r&&(r=0);var o=t.schedule((function(){try{n.call(this)}catch(t){e.error(t)}}),r);return e.add(o),o}n.d(t,{A:()=>r})},1819:(e,t,n)=>{"use strict";function r(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}n.d(t,{d:()=>r})},278:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},5685:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},8430:(e,t,n)=>{"use strict";n.d(t,{D:()=>o});var r=n(8474);function o(e){return Symbol.asyncIterator&&(0,r.m)(null==e?void 0:e[Symbol.asyncIterator])}},1454:(e,t,n)=>{"use strict";function r(e){return e instanceof Date&&!isNaN(e)}n.d(t,{q:()=>r})},8474:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},1764:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6766),o=n(8474);function i(e){return(0,o.m)(e[r.L])}},1837:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(9768),o=n(8474);function i(e){return(0,o.m)(null==e?void 0:e[r.hZ])}},3841:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var r=n(8474);function o(e){return(0,r.m)(null==e?void 0:e.then)}},4865:(e,t,n)=>{"use strict";n.d(t,{K:()=>o});var r=n(8474);function o(e){return e&&(0,r.m)(e.schedule)}},6798:(e,t,n)=>{"use strict";n.d(t,{A:()=>o,e:()=>i});var r=n(8474);function o(e){return(0,r.m)(null==e?void 0:e.lift)}function i(e){return function(t){if(o(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}},3211:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(655),o=n(9127),i=Array.isArray;function s(e){return(0,o.U)((function(t){return function(e,t){return i(t)?e.apply(void 0,(0,r.fl)(t)):e(t)}(e,t)}))}},2967:(e,t,n)=>{"use strict";function r(){}n.d(t,{Z:()=>r})},414:(e,t,n)=>{"use strict";function r(e,t){return function(n,r){return!e.call(t,n,r)}}n.d(t,{f:()=>r})},2749:(e,t,n)=>{"use strict";n.d(t,{z:()=>o,U:()=>i});var r=n(278);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)}function i(e){return 0===e.length?r.y:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},5:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(3912),o=n(8380);function i(e){o.z.setTimeout((function(){var t=r.v.onUnhandledError;if(!t)throw e;t(e)}))}},8729:(e,t,n)=>{"use strict";function r(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, AsyncIterable, or Iterable.")}n.d(t,{z:()=>r})},1287:(e,t,n)=>{"use strict";n.r(t),n.d(t,{audit:()=>s,auditTime:()=>c,buffer:()=>l,bufferCount:()=>p,bufferTime:()=>m,bufferToggle:()=>b,bufferWhen:()=>w,catchError:()=>g,combineAll:()=>E,combineLatest:()=>N,combineLatestWith:()=>O,concat:()=>j,concatAll:()=>$.u,concatMap:()=>G,concatMapTo:()=>M,concatWith:()=>q,connect:()=>z,count:()=>Z,debounce:()=>K,debounceTime:()=>X,defaultIfEmpty:()=>V,delay:()=>ne,delayWhen:()=>te,dematerialize:()=>oe,distinct:()=>ie,distinctUntilChanged:()=>se,distinctUntilKeyChanged:()=>ue,elementAt:()=>he,endWith:()=>me,every:()=>ye,exhaust:()=>be,exhaustMap:()=>ge,expand:()=>xe,filter:()=>le.h,finalize:()=>Ce,find:()=>Se,findIndex:()=>Te,first:()=>Ie,flatMap:()=>A.V,groupBy:()=>Pe,ignoreElements:()=>Y,isEmpty:()=>Re,last:()=>Fe,map:()=>we.U,mapTo:()=>ee,materialize:()=>Ne,max:()=>Oe,merge:()=>De,mergeAll:()=>$e.J,mergeMap:()=>A.z,mergeMapTo:()=>Me,mergeScan:()=>Qe,mergeWith:()=>Ge,min:()=>qe,multicast:()=>Le,observeOn:()=>Ue.Q,onErrorResumeNext:()=>We.h,pairwise:()=>ze,partition:()=>Ke,pluck:()=>Xe,publish:()=>Ve,publishBehavior:()=>Be,publishLast:()=>Ye,publishReplay:()=>tt,race:()=>rt,raceWith:()=>ot,reduce:()=>I,refCount:()=>ct.x,repeat:()=>it,repeatWhen:()=>st,retry:()=>at,retryWhen:()=>ut,sample:()=>lt,sampleTime:()=>dt,scan:()=>pt,sequenceEqual:()=>ht,share:()=>vt,shareReplay:()=>mt,single:()=>wt,skip:()=>gt,skipLast:()=>kt,skipUntil:()=>xt,skipWhile:()=>Ct,startWith:()=>St,subscribeOn:()=>At.R,switchAll:()=>It,switchMap:()=>Tt,switchMapTo:()=>Pt,switchScan:()=>_t,take:()=>J,takeLast:()=>Ee,takeUntil:()=>Rt,takeWhile:()=>Et,tap:()=>Ft,throttle:()=>Ot,throttleTime:()=>$t,throwIfEmpty:()=>de,timeInterval:()=>Gt,timeout:()=>Qt.V,timeoutWith:()=>jt,timestamp:()=>Ut,toArray:()=>_,window:()=>Wt,windowCount:()=>zt,windowTime:()=>Zt,windowToggle:()=>Kt,windowWhen:()=>Xt,withLatestFrom:()=>Vt,zip:()=>Bt,zipAll:()=>Yt,zipWith:()=>Jt});var r=n(6798),o=n(52),i=n(2566);function s(e){return(0,r.e)((function(t,n){var r=!1,s=null,a=null,u=!1,c=function(){if(null==a||a.unsubscribe(),a=null,r){r=!1;var e=s;s=null,n.next(e)}u&&n.complete()},l=function(){a=null,u&&n.complete()};t.subscribe(new i.Q(n,(function(t){r=!0,s=t,a||(0,o.Xf)(e(t)).subscribe(a=new i.Q(n,c,void 0,l))}),void 0,(function(){u=!0,(!r||!a||a.closed)&&n.complete()})))}))}var a=n(7991),u=n(6625);function c(e,t){return void 0===t&&(t=a.P),s((function(){return(0,u.H)(e,t)}))}function l(e){return(0,r.e)((function(t,n){var r=[];return t.subscribe(new i.Q(n,(function(e){return r.push(e)}))),e.subscribe(new i.Q(n,(function(){var e=r;r=[],n.next(e)}))),function(){r=null}}))}var f=n(655),d=n(3699);function p(e,t){return void 0===t&&(t=null),t=null!=t?t:e,(0,r.e)((function(n,r){var o=[],s=0;n.subscribe(new i.Q(r,(function(n){var i,a,u,c,l=null;s++%t==0&&o.push([]);try{for(var p=(0,f.XA)(o),h=p.next();!h.done;h=p.next())(y=h.value).push(n),e<=y.length&&(l=null!=l?l:[]).push(y)}catch(e){i={error:e}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}if(l)try{for(var v=(0,f.XA)(l),m=v.next();!m.done;m=v.next()){var y=m.value;(0,d.P)(o,y),r.next(y)}}catch(e){u={error:e}}finally{try{m&&!m.done&&(c=v.return)&&c.call(v)}finally{if(u)throw u.error}}}),void 0,(function(){var e,t;try{for(var n=(0,f.XA)(o),i=n.next();!i.done;i=n.next()){var s=i.value;r.next(s)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}r.complete()}),(function(){o=null})))}))}var h=n(204),v=n(2457);function m(e){for(var t,n,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];var u=null!==(t=(0,v.yG)(o))&&void 0!==t?t:a.z,c=null!==(n=o[0])&&void 0!==n?n:null,l=o[1]||1/0;return(0,r.e)((function(t,n){var r=[],o=!1,s=function(e){var t=e.buffer;e.subs.unsubscribe(),(0,d.P)(r,e),n.next(t),o&&a()},a=function(){if(r){var t=new h.w0;n.add(t);var o={buffer:[],subs:t};r.push(o),t.add(u.schedule((function(){return s(o)}),e))}};null!==c&&c>=0?n.add(u.schedule((function(){a(),!this.closed&&n.add(this.schedule(null,c))}),c)):o=!0,a();var p=new i.Q(n,(function(e){var t,n,o=r.slice();try{for(var i=(0,f.XA)(o),a=i.next();!a.done;a=i.next()){var u=a.value,c=u.buffer;c.push(e),l<=c.length&&s(u)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}),void 0,(function(){for(;null==r?void 0:r.length;)n.next(r.shift().buffer);null==p||p.unsubscribe(),n.complete(),n.unsubscribe()}),(function(){return r=null}));t.subscribe(p)}))}var y=n(2967);function b(e,t){return(0,r.e)((function(n,r){var s=[];(0,o.Xf)(e).subscribe(new i.Q(r,(function(e){var n=[];s.push(n);var a=new h.w0;a.add((0,o.Xf)(t(e)).subscribe(new i.Q(r,(function(){(0,d.P)(s,n),r.next(n),a.unsubscribe()}),void 0,y.Z)))}),void 0,y.Z)),n.subscribe(new i.Q(r,(function(e){var t,n;try{for(var r=(0,f.XA)(s),o=r.next();!o.done;o=r.next())o.value.push(e)}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}),void 0,(function(){for(;s.length>0;)r.next(s.shift());r.complete()})))}))}function w(e){return(0,r.e)((function(t,n){var r=null,s=null,a=function(){null==s||s.unsubscribe();var t=r;r=[],t&&n.next(t),(0,o.Xf)(e()).subscribe(s=new i.Q(n,a,void 0,y.Z))};a(),t.subscribe(new i.Q(n,(function(e){return null==r?void 0:r.push(e)}),void 0,(function(){r&&n.next(r),n.complete()}),(function(){return r=s=null})))}))}function g(e){return(0,r.e)((function(t,n){var r,s=null,a=!1;s=t.subscribe(new i.Q(n,void 0,(function(i){r=(0,o.Xf)(e(i,g(e)(t))),s?(s.unsubscribe(),s=null,r.subscribe(n)):a=!0}))),a&&(s.unsubscribe(),s=null,r.subscribe(n))}))}var k=n(564),x=n(278),C=n(3211),S=n(2749),A=n(3994);function T(e,t,n,r,o){return function(s,a){var u=n,c=t,l=0;s.subscribe(new i.Q(a,(function(t){var n=l++;c=u?e(c,t,n):(u=!0,t),r&&a.next(c)}),void 0,o&&function(){u&&a.next(c),a.complete()}))}}function I(e,t){return(0,r.e)(T(e,t,arguments.length>=2,!1,!0))}var P=function(e,t){return e.push(t),e};function _(){return(0,r.e)((function(e,t){I(P,[])(e).subscribe(t)}))}function R(e,t){return(0,S.z)(_(),(0,A.z)((function(t){return e(t)})),t?(0,C.Z)(t):x.y)}function E(e){return R(k.a,e)}var F=n(8936);function N(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,v.jO)(e);return n?(0,S.z)(N.apply(void 0,(0,f.fl)(e)),(0,C.Z)(n)):(0,r.e)((function(t,n){(0,k.l)((0,f.fl)([t],(0,F.k)(e)))(n)}))}function O(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return N.apply(void 0,(0,f.fl)(e))}var $=n(9834),D=n(8474);function G(e,t){return(0,D.m)(t)?(0,A.z)(e,t,1):(0,A.z)(e,1)}function M(e,t){return(0,D.m)(t)?G((function(){return e}),t):G((function(){return e}))}var Q=n(2677);function q(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return j.apply(void 0,(0,f.fl)(e))}function j(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,v.yG)(e);return(0,r.e)((function(t,r){(0,$.u)()((0,Q.h)((0,f.fl)([t],e),n)).subscribe(r)}))}var L=n(9248),U=n(230),W={connector:function(){return new L.x}};function z(e,t){void 0===t&&(t=W);var n=t.connector;return(0,r.e)((function(t,r){var i,s=n();(0,o.Dp)(e((i=s,new U.y((function(e){return i.subscribe(e)}))))).subscribe(r),r.add(t.subscribe(s))}))}function Z(e){return I((function(t,n,r){return!e||e(n,r)?t+1:t}),0)}function K(e){return(0,r.e)((function(t,n){var r=!1,s=null,a=null,u=function(){if(null==a||a.unsubscribe(),a=null,r){r=!1;var e=s;s=null,n.next(e)}};t.subscribe(new i.Q(n,(function(t){null==a||a.unsubscribe(),r=!0,s=t,a=new i.Q(n,u,void 0,y.Z),(0,o.Xf)(e(t)).subscribe(a)}),void 0,(function(){u(),n.complete()}),(function(){s=a=null})))}))}function X(e,t){void 0===t&&(t=a.z);var n=(0,u.H)(e,t);return K((function(){return n}))}function V(e){return void 0===e&&(e=null),(0,r.e)((function(t,n){var r=!1;t.subscribe(new i.Q(n,(function(e){r=!0,n.next(e)}),void 0,(function(){r||n.next(e),n.complete()})))}))}var H=n(6362),B=n(1545);function J(e){return e<=0?function(){return B.E}:(0,r.e)((function(t,n){var r=0;t.subscribe(new i.Q(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}function Y(){return(0,r.e)((function(e,t){e.subscribe(new i.Q(t,y.Z))}))}function ee(e){return(0,r.e)((function(t,n){t.subscribe(new i.Q(n,(function(){return n.next(e)})))}))}function te(e,t){return t?function(n){return(0,H.z)(t.pipe(J(1),Y()),n.pipe(te(e)))}:(0,A.z)((function(t,n){return e(t,n).pipe(J(1),ee(t))}))}function ne(e,t){void 0===t&&(t=a.z);var n=(0,u.H)(e,t);return te((function(){return n}))}var re=n(4029);function oe(){return(0,r.e)((function(e,t){e.subscribe(new i.Q(t,(function(e){return(0,re.kV)(e,t)})))}))}function ie(e,t){return(0,r.e)((function(n,r){var o=new Set;n.subscribe(new i.Q(r,(function(t){var n=e?e(t):t;o.has(n)||(o.add(n),r.next(t))}))),null==t||t.subscribe(new i.Q(r,(function(){return o.clear()}),void 0,y.Z))}))}function se(e,t){return e=null!=e?e:ae,(0,r.e)((function(n,r){var o,s=!0;n.subscribe(new i.Q(r,(function(n){(s&&(o=n,1)||!e(o,o=t?t(n):n))&&r.next(n),s=!1})))}))}function ae(e,t){return e===t}function ue(e,t){return se((function(n,r){return t?t(n[e],r[e]):n[e]===r[e]}))}var ce=n(4192),le=n(4975),fe=n(8084);function de(e){return void 0===e&&(e=pe),(0,r.e)((function(t,n){var r=!1;t.subscribe(new i.Q(n,(function(e){r=!0,n.next(e)}),void 0,(function(){return r?n.complete():n.error(e())})))}))}function pe(){return new fe.K}function he(e,t){if(e<0)throw new ce.W;var n=arguments.length>=2;return function(r){return r.pipe((0,le.h)((function(t,n){return n===e})),J(1),n?V(t):de((function(){return new ce.W})))}}var ve=n(2817);function me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return(0,H.z)(t,ve.of.apply(void 0,(0,f.fl)(e)))}}function ye(e,t){return(0,r.e)((function(n,r){var o=0;n.subscribe(new i.Q(r,(function(i){e.call(t,i,o++,n)||(r.next(!1),r.complete())}),void 0,(function(){r.next(!0),r.complete()})))}))}function be(){return(0,r.e)((function(e,t){var n=!1,r=null;e.subscribe(new i.Q(t,(function(e){r||(r=(0,o.Xf)(e).subscribe(new i.Q(t,void 0,void 0,(function(){r=null,n&&t.complete()}))))}),void 0,(function(){n=!0,!r&&t.complete()})))}))}var we=n(9127);function ge(e,t){return t?function(n){return n.pipe(ge((function(n,r){return(0,o.Xf)(e(n,r)).pipe((0,we.U)((function(e,o){return t(n,e,r,o)})))})))}:(0,r.e)((function(t,n){var r=0,s=null,a=!1;t.subscribe(new i.Q(n,(function(t){s||(s=new i.Q(n,void 0,void 0,(function(){s=null,a&&n.complete()})),(0,o.Xf)(e(t,r++)).subscribe(s))}),void 0,(function(){a=!0,!s&&n.complete()})))}))}var ke=n(9007);function xe(e,t,n){return void 0===t&&(t=1/0),t=(t||0)<1?1/0:t,(0,r.e)((function(r,o){return(0,ke.p)(r,o,e,t,void 0,!0,n)}))}function Ce(e){return(0,r.e)((function(t,n){t.subscribe(n),n.add(e)}))}function Se(e,t){return(0,r.e)(Ae(e,t,"value"))}function Ae(e,t,n){var r="index"===n;return function(n,o){var s=0;n.subscribe(new i.Q(o,(function(i){var a=s++;e.call(t,i,a,n)&&(o.next(r?a:i),o.complete())}),void 0,(function(){o.next(r?-1:void 0),o.complete()})))}}function Te(e,t){return(0,r.e)(Ae(e,t,"index"))}function Ie(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?(0,le.h)((function(t,n){return e(t,n,r)})):x.y,J(1),n?V(t):de((function(){return new fe.K})))}}function Pe(e,t,n,o){return(0,r.e)((function(r,s){var a=new Map,u=function(e){a.forEach(e),e(s)},c=function(e){return u((function(t){return t.error(e)}))},l=new _e(s,(function(r){try{var u=e(r),f=a.get(u);if(!f){a.set(u,f=o?o():new L.x);var d=(h=u,v=f,(m=new U.y((function(e){l.activeGroups++;var t=v.subscribe(e);return function(){t.unsubscribe(),0==--l.activeGroups&&l.teardownAttempted&&l.unsubscribe()}}))).key=h,m);if(s.next(d),n){var p=new i.Q(f,(function(){f.complete(),null==p||p.unsubscribe()}),void 0,void 0,(function(){return a.delete(u)}));l.add(n(d).subscribe(p))}}f.next(t?t(r):r)}catch(e){c(e)}var h,v,m}),c,(function(){return u((function(e){return e.complete()}))}),(function(){return a.clear()}));r.subscribe(l)}))}var _e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeGroups=0,t.teardownAttempted=!1,t}return(0,f.ZT)(t,e),t.prototype.unsubscribe=function(){this.teardownAttempted=!0,0===this.activeGroups&&e.prototype.unsubscribe.call(this)},t}(i.Q);function Re(){return(0,r.e)((function(e,t){e.subscribe(new i.Q(t,(function(){t.next(!1),t.complete()}),void 0,(function(){t.next(!0),t.complete()})))}))}function Ee(e){return e<=0?function(){return B.E}:(0,r.e)((function(t,n){var r=[];t.subscribe(new i.Q(n,(function(t){r.push(t),e<r.length&&r.shift()}),void 0,(function(){var e,t;try{for(var o=(0,f.XA)(r),i=o.next();!i.done;i=o.next()){var s=i.value;n.next(s)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}n.complete()}),(function(){r=null})))}))}function Fe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?(0,le.h)((function(t,n){return e(t,n,r)})):x.y,Ee(1),n?V(t):de((function(){return new fe.K})))}}function Ne(){return(0,r.e)((function(e,t){e.subscribe(new i.Q(t,(function(e){t.next(re.P_.createNext(e))}),(function(e){t.next(re.P_.createError(e)),t.complete()}),(function(){t.next(re.P_.createComplete()),t.complete()})))}))}function Oe(e){return I((0,D.m)(e)?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t})}var $e=n(4367);function De(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,v.yG)(e),o=(0,v._6)(e,1/0);return e=(0,F.k)(e),(0,r.e)((function(t,r){(0,$e.J)(o)((0,Q.h)((0,f.fl)([t],e),n)).subscribe(r)}))}function Ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return De.apply(void 0,(0,f.fl)(e))}function Me(e,t,n){return void 0===n&&(n=1/0),(0,D.m)(t)?(0,A.z)((function(){return e}),t,n):("number"==typeof t&&(n=t),(0,A.z)((function(){return e}),n))}function Qe(e,t,n){return void 0===n&&(n=1/0),(0,r.e)((function(r,o){var i=t;return(0,ke.p)(r,o,(function(t,n){return e(i,t,n)}),n,(function(e){i=e}),!1,void 0,(function(){return i=null}))}))}function qe(e){return I((0,D.m)(e)?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t})}var je=n(2537);function Le(e,t){var n=(0,D.m)(e)?e:function(){return e};return(0,D.m)(t)?z(t,{connector:n}):function(e){var t=new je.c(e,n);return(0,r.A)(e)&&(t.lift=e.lift),t.source=e,t.subjectFactory=n,t}}var Ue=n(9526),We=n(5873);function ze(){return(0,r.e)((function(e,t){var n,r=!1;e.subscribe(new i.Q(t,(function(e){var o=n;n=e,r&&t.next([o,e]),r=!0})))}))}var Ze=n(414);function Ke(e,t){return function(n){return[(0,le.h)(e,t)(n),(0,le.h)((0,Ze.f)(e,t))(n)]}}function Xe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return(0,we.U)((function(t){for(var r=t,o=0;o<n;o++){var i=null==r?void 0:r[e[o]];if(void 0===i)return;r=i}return r}))}function Ve(e){return e?z(e):Le(new L.x)}var He=n(6515);function Be(e){var t=new He.X(e);return function(e){return new je.c(e,(function(){return t}))}}var Je=n(2207);function Ye(){var e=new Je.c;return function(t){return new je.c(t,(function(){return e}))}}var et=n(3);function tt(e,t,n,r){n&&!(0,D.m)(n)&&(r=n);var o=(0,D.m)(n)?n:void 0,i=new et.t(e,t,r);return function(e){return Le(i,o)(e)}}var nt=n(7901);function rt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ot.apply(void 0,(0,f.fl)((0,F.k)(e)))}function ot(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?(0,r.e)((function(t,n){(0,nt.R)((0,f.fl)([t],e))(n)})):x.y}function it(e){return void 0===e&&(e=1/0),e<=0?function(){return B.E}:(0,r.e)((function(t,n){var r,o=0,s=function(){var a=!1;r=t.subscribe(new i.Q(n,void 0,void 0,(function(){++o<e?r?(r.unsubscribe(),r=null,s()):a=!0:n.complete()}))),a&&(r.unsubscribe(),r=null,s())};s()}))}function st(e){return(0,r.e)((function(t,n){var r,o,s=!1,a=!1,u=!1,c=function(){return u&&a&&(n.complete(),!0)},l=function(){u=!1,r=t.subscribe(new i.Q(n,void 0,void 0,(function(){u=!0,!c()&&(o||(o=new L.x,e(o).subscribe(new i.Q(n,(function(){r?l():s=!0}),void 0,(function(){a=!0,c()})))),o).next()}))),s&&(r.unsubscribe(),r=null,s=!1,l())};l()}))}function at(e){var t;void 0===e&&(e=1/0);var n=(t=e&&"object"==typeof e?e:{count:e}).count,o=t.resetOnSuccess,s=void 0!==o&&o;return n<=0?function(){return B.E}:(0,r.e)((function(e,t){var r,o=0,a=function(){var u=!1;r=e.subscribe(new i.Q(t,(function(e){s&&(o=0),t.next(e)}),(function(e){o++<n?r?(r.unsubscribe(),r=null,a()):u=!0:t.error(e)}))),u&&(r.unsubscribe(),r=null,a())};a()}))}function ut(e){return(0,r.e)((function(t,n){var r,o,s=!1,a=function(){r=t.subscribe(new i.Q(n,void 0,(function(t){o||(o=new L.x,e(o).subscribe(new i.Q(n,(function(){return r?a():s=!0})))),o&&o.next(t)}))),s&&(r.unsubscribe(),r=null,s=!1,a())};a()}))}var ct=n(218);function lt(e){return(0,r.e)((function(t,n){var r=!1,o=null;t.subscribe(new i.Q(n,(function(e){r=!0,o=e}))),e.subscribe(new i.Q(n,(function(){if(r){r=!1;var e=o;o=null,n.next(e)}}),void 0,y.Z))}))}var ft=n(6697);function dt(e,t){return void 0===t&&(t=a.z),lt((0,ft.F)(e,t))}function pt(e,t){return(0,r.e)(T(e,t,arguments.length>=2,!0))}function ht(e,t){return void 0===t&&(t=function(e,t){return e===t}),(0,r.e)((function(n,r){var o={buffer:[],complete:!1},s={buffer:[],complete:!1},a=function(e){r.next(e),r.complete()},u=function(e,n){var o=new i.Q(r,(function(r){var o=n.buffer,i=n.complete;0===o.length?i?a(!1):e.buffer.push(r):!t(r,o.shift())&&a(!1)}),void 0,(function(){e.complete=!0;var t=n.complete,r=n.buffer;t&&a(0===r.length),null==o||o.unsubscribe()}));return o};n.subscribe(u(o,s)),e.subscribe(u(s,o))}))}function vt(e){var t=(e=e||{}).connector,n=void 0===t?function(){return new L.x}:t,i=e.resetOnComplete,s=void 0===i||i,a=e.resetOnError,u=void 0===a||a,c=e.resetOnRefCountZero,l=void 0===c||c,f=null,d=null,p=0,h=!1,v=!1,m=function(){f=d=null,h=v=!1};return(0,r.e)((function(e,t){p++,d||(d=n());var r=d.subscribe(t);return f||(f=(0,o.Dp)(e).subscribe({next:function(e){return d.next(e)},error:function(e){v=!0;var t=d;u&&m(),t.error(e)},complete:function(){h=!0;var e=d;s&&m(),e.complete()}})),function(){if(p--,r.unsubscribe(),!p&&l&&!v&&!h){var e=f;m(),null==e||e.unsubscribe()}}}))}function mt(e,t,n){var r,o,i,s=!1;return e&&"object"==typeof e?(i=null!==(r=e.bufferSize)&&void 0!==r?r:1/0,t=null!==(o=e.windowTime)&&void 0!==o?o:1/0,s=!!e.refCount,n=e.scheduler):i=null!=e?e:1/0,vt({connector:function(){return new et.t(i,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}var yt=n(3791),bt=n(2519);function wt(e){return(0,r.e)((function(t,n){var r,o=!1,s=!1,a=0;t.subscribe(new i.Q(n,(function(i){s=!0,e&&!e(i,a++,t)||(o&&n.error(new yt.c("Too many matching values")),o=!0,r=i)}),void 0,(function(){o?(n.next(r),n.complete()):n.error(s?new bt.d("No matching values"):new fe.K)})))}))}function gt(e){return(0,le.h)((function(t,n){return e<=n}))}function kt(e){return e<=0?x.y:(0,r.e)((function(t,n){var r=new Array(e),o=0;t.subscribe(new i.Q(n,(function(t){var i=o++;if(i<e)r[i]=t;else{var s=i%e,a=r[s];r[s]=t,n.next(a)}}),void 0,void 0,(function(){return r=null})))}))}function xt(e){return(0,r.e)((function(t,n){var r=!1,s=new i.Q(n,(function(){null==s||s.unsubscribe(),r=!0}),void 0,y.Z);(0,o.Xf)(e).subscribe(s),t.subscribe(new i.Q(n,(function(e){return r&&n.next(e)})))}))}function Ct(e){return(0,r.e)((function(t,n){var r=!1,o=0;t.subscribe(new i.Q(n,(function(t){return(r||(r=!e(t,o++)))&&n.next(t)})))}))}function St(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,v.yG)(e);return(0,r.e)((function(t,r){(n?(0,H.z)(e,t,n):(0,H.z)(e,t)).subscribe(r)}))}var At=n(8720);function Tt(e,t){return(0,r.e)((function(n,r){var s=null,a=0,u=!1,c=function(){return u&&!s&&r.complete()};n.subscribe(new i.Q(r,(function(n){null==s||s.unsubscribe();var u=0,l=a++;(0,o.Xf)(e(n,l)).subscribe(s=new i.Q(r,(function(e){return r.next(t?t(n,e,l,u++):e)}),void 0,(function(){s=null,c()})))}),void 0,(function(){u=!0,c()})))}))}function It(){return Tt(x.y)}function Pt(e,t){return t?Tt((function(){return e}),t):Tt((function(){return e}))}function _t(e,t){return(0,r.e)((function(n,r){var o=t;return Tt((function(t,n){return e(o,t,n)}),(function(e,t){return o=t,t}))(n).subscribe(r),function(){o=null}}))}function Rt(e){return(0,r.e)((function(t,n){(0,o.Xf)(e).subscribe(new i.Q(n,(function(){return n.complete()}),void 0,y.Z)),!n.closed&&t.subscribe(n)}))}function Et(e,t){return void 0===t&&(t=!1),(0,r.e)((function(n,r){var o=0;n.subscribe(new i.Q(r,(function(n){var i=e(n,o++);(i||t)&&r.next(n),!i&&r.complete()})))}))}function Ft(e,t,n){var o=(0,D.m)(e)||t||n?{next:e,error:t,complete:n}:e;return o?(0,r.e)((function(e,t){e.subscribe(new i.Q(t,(function(e){var n;null===(n=o.next)||void 0===n||n.call(o,e),t.next(e)}),(function(e){var n;null===(n=o.error)||void 0===n||n.call(o,e),t.error(e)}),(function(){var e;null===(e=o.complete)||void 0===e||e.call(o),t.complete()})))})):x.y}var Nt={leading:!0,trailing:!1};function Ot(e,t){var n=void 0===t?Nt:t,s=n.leading,a=n.trailing;return(0,r.e)((function(t,n){var r=!1,u=null,c=null,l=!1,f=function(){null==c||c.unsubscribe(),c=null,a&&(h(),l&&n.complete())},d=function(){c=null,l&&n.complete()},p=function(t){return c=(0,o.Xf)(e(t)).subscribe(new i.Q(n,f,void 0,d))},h=function(){r&&(n.next(u),!l&&p(u)),r=!1,u=null};t.subscribe(new i.Q(n,(function(e){r=!0,u=e,(!c||c.closed)&&(s?h():p(e))}),void 0,(function(){l=!0,(!(a&&r&&c)||c.closed)&&n.complete()})))}))}function $t(e,t,n){void 0===t&&(t=a.z),void 0===n&&(n=Nt);var r=(0,u.H)(e,t);return Ot((function(){return r}),n)}var Dt=n(9917);function Gt(e){return void 0===e&&(e=a.P),function(t){return(0,Dt.P)((function(){return t.pipe(pt((function(t,n){var r=t.current;return{value:n,current:e.now(),last:r}}),{current:e.now(),value:void 0,last:void 0}),(0,we.U)((function(e){var t=e.current,n=e.last,r=e.value;return new Mt(r,t-n)})))}))}}var Mt=function(e,t){this.value=e,this.interval=t},Qt=n(5211),qt=n(1454);function jt(e,t,n){var r,o,i;if(n=null!=n?n:a.P,(0,qt.q)(e)?r=e:"number"==typeof e&&(o=e),!t)throw new TypeError("No observable provided to switch to");if(i=function(){return t},null==r&&null==o)throw new TypeError("No timeout provided.");return(0,Qt.V)({first:r,each:o,scheduler:n,with:i})}var Lt=n(4318);function Ut(e){return void 0===e&&(e=Lt.l),(0,we.U)((function(t){return{value:t,timestamp:e.now()}}))}function Wt(e){return(0,r.e)((function(t,n){var r=new L.x;n.next(r.asObservable());var o=function(e,t){return e.subscribe(new i.Q(n,t,(function(e){r.error(e),n.error(e)}),(function(){r.complete(),n.complete()})))};return o(t,(function(e){return r.next(e)})),o(e,(function(){r.complete(),n.next(r=new L.x)})),function(){r.unsubscribe(),r=null}}))}function zt(e,t){void 0===t&&(t=0);var n=t>0?t:e;return(0,r.e)((function(t,r){var o=[new L.x],s=0;r.next(o[0].asObservable()),t.subscribe(new i.Q(r,(function(t){var i,a;try{for(var u=(0,f.XA)(o),c=u.next();!c.done;c=u.next())c.value.next(t)}catch(e){i={error:e}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}var l=s-e+1;if(l>=0&&l%n==0&&o.shift().complete(),++s%n==0){var d=new L.x;o.push(d),r.next(d.asObservable())}}),(function(e){for(;o.length>0;)o.shift().error(e);r.error(e)}),(function(){for(;o.length>0;)o.shift().complete();r.complete()}),(function(){o=null})))}))}function Zt(e){for(var t,n,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];var u=null!==(t=(0,v.yG)(o))&&void 0!==t?t:a.z,c=null!==(n=o[0])&&void 0!==n?n:null,l=o[1]||1/0;return(0,r.e)((function(t,n){var r=[],o=!1,s=function(e){var t=e.window,n=e.subs;t.complete(),n.unsubscribe(),(0,d.P)(r,e),o&&a()},a=function(){if(r){var t=new h.w0;n.add(t);var o=new L.x,i={window:o,subs:t,seen:0};r.push(i),n.next(o.asObservable()),t.add(u.schedule((function(){return s(i)}),e))}};null!==c&&c>=0?n.add(u.schedule((function(){a(),!this.closed&&n.add(this.schedule(null,c))}),c)):o=!0,a();var f=function(e){return r.slice().forEach(e)},p=function(e){f((function(t){var n=t.window;return e(n)})),e(n),n.unsubscribe()};return t.subscribe(new i.Q(n,(function(e){f((function(t){t.window.next(e),l<=++t.seen&&s(t)}))}),(function(e){return p((function(t){return t.error(e)}))}),(function(){return p((function(e){return e.complete()}))}))),function(){r=null}}))}function Kt(e,t){return(0,r.e)((function(n,r){var s=[],a=function(e){for(;0<s.length;)s.shift().error(e);r.error(e)};(0,o.Xf)(e).subscribe(new i.Q(r,(function(e){var n=new L.x;s.push(n);var u,c=new h.w0;try{u=(0,o.Xf)(t(e))}catch(e){return void a(e)}r.next(n.asObservable()),c.add(u.subscribe(new i.Q(r,(function(){(0,d.P)(s,n),n.complete(),c.unsubscribe()}),a,y.Z)))}),void 0,y.Z)),n.subscribe(new i.Q(r,(function(e){var t,n,r=s.slice();try{for(var o=(0,f.XA)(r),i=o.next();!i.done;i=o.next())i.value.next(e)}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}),a,(function(){for(;0<s.length;)s.shift().complete();r.complete()}),(function(){for(;0<s.length;)s.shift().unsubscribe()})))}))}function Xt(e){return(0,r.e)((function(t,n){var r,s,a=function(e){r.error(e),n.error(e)},u=function(){var t;null==s||s.unsubscribe(),null==r||r.complete(),r=new L.x,n.next(r.asObservable());try{t=(0,o.Xf)(e())}catch(e){return void a(e)}t.subscribe(s=new i.Q(n,u,a,u))};u(),t.subscribe(new i.Q(n,(function(e){return r.next(e)}),a,(function(){r.complete(),n.complete()}),(function(){null==s||s.unsubscribe(),r=null})))}))}function Vt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,v.jO)(e);return(0,r.e)((function(t,r){for(var s=e.length,a=new Array(s),u=e.map((function(){return!1})),c=!1,l=function(t){(0,o.Xf)(e[t]).subscribe(new i.Q(r,(function(e){a[t]=e,c||u[t]||(u[t]=!0,(c=u.every(x.y))&&(u=null))}),void 0,y.Z))},d=0;d<s;d++)l(d);t.subscribe(new i.Q(r,(function(e){if(c){var t=(0,f.fl)([e],a);r.next(n?n.apply(void 0,(0,f.fl)(t)):t)}})))}))}var Ht=n(8234);function Bt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,r.e)((function(t,n){Ht.$.apply(void 0,(0,f.fl)([t],e)).subscribe(n)}))}function Jt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Bt.apply(void 0,(0,f.fl)(e))}function Yt(e){return R(Ht.$,e)}},5422:(e,t,n)=>{var r,o;r=[n,t,n(4205),n(1025),n(5405),n(6726),n(2476),n(7579),n(9651),n(6417),n(2667),n(6216)],void 0===(o=function(e,t,n,r,o,i,s,a,u,c,l,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.displayToaster=void 0;const d=StackExchange.options.user.fkey,p=f.popupWrapper;let h=null,v=null;function m(){p.removeClass("show").addClass("hide"),v=window.setTimeout((()=>p.empty().addClass("hide")),1e3)}function y(e,t){const n=`Flagged ${t}`;e.attr("title",n),f.showInlineElement(e),f.displaySuccess(n)}function b(e,t){f.displayError(e),console.error(t)}function w(e,t){const n=new o.NattyAPI(e);return t?n.Watch().subscribe((e=>e?f.showInlineElement(t):t.addClass("d-none"))):n.Watch(),{name:"Natty",ReportNaa:(e,t)=>n.ReportNaa(e,t),ReportRedFlag:()=>n.ReportRedFlag(),ReportLooksFine:()=>n.ReportLooksFine(),ReportNeedsEditing:()=>n.ReportNeedsEditing(),ReportVandalism:()=>Promise.resolve(!1),ReportDuplicateAnswer:()=>Promise.resolve(!1),ReportPlagiarism:()=>Promise.resolve(!1)}}function g(e){switch(e){case"AnswerNotAnAnswer":return"as NAA";case"PostOffensive":return"as R/A";case"PostSpam":return"as spam";case"NoFlag":return"";case"PostOther":return"for moderator attention";default:return""}}async function k(e,t,o,i,s,a,u,c,p,h,v,m){const w=f.dropDown.clone(),g=`comment_checkbox_${t}`,k=`flag_checkbox_${t}`,S=f.getOptionBox(g),A=f.getOptionBox(k);A.prop("checked",!0);const T=r.IsStackOverflow(),I=e.find(".comment-body");l.GreaseMonkeyCache.GetFromCache(f.ConfigurationDefaultNoComment)||I.length||!T||S.prop("checked",!0);const P=l.GreaseMonkeyCache.GetFromCache(f.ConfigurationEnabledFlags);let _=!1,R=!0;if(n.flagCategories.forEach((n=>{if(-1===n.AppliesTo.indexOf(o))return;const r=f.getDivider();R||w.append(r);const l=f.getCategoryDiv(n.IsDangerous);let g=n.FlagTypes.length;n.FlagTypes.forEach((n=>{const o=f.reportLink.clone();_=!!n.GetComment;const k=f.dropdownItem.clone(),T=()=>{g++,f.showElement(o),!r||g<=0||f.showElement(r)};let I;g--,f.hideElement(o),!r||g>0||f.hideElement(r),(!P||P.indexOf(n.Id)>-1)&&(n.Enabled?m.then((async e=>{if(n.Enabled){const r=!!e.length;if(!r)return;const o=await(t=e[0].post_id,new Promise(((e,n)=>{GM_xmlhttpRequest({method:"GET",url:`${f.copyPastorServer}/posts/${t}`,onload:t=>{const n=$(t.responseText);e(!!n.text().match("Reposted"))},onerror:e=>{n(e)}})})));n.Enabled(r,o)&&T()}else T();var t})):T()),n.GetComment&&(I=n.GetComment({Reputation:i,AuthorName:s}),o.attr("title",I)),o.click((async()=>{if(!c)try{if(!S.is(":checked")&&I){const t=function(e){return e.replace(/\[([^\]]+)\]\(([^)]+)\)/g,"$1").replace(/\[([^\]]+)\][^(]*?/g,"$1").replace(/_([^_]+)_/g,"$1").replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1").replace(" - From Review","")}(I);!function(e,t){e.find(".comment-body .comment-copy").each(((e,n)=>{const r=$(n);r.text()===t&&r.closest("li").find("a.comment-up.comment-up-off").trigger("click")}))}(e,t),I=void 0}const r=function(e,t,n,r,o){const i={};return r&&(i.CommentPromise=new Promise(((t,n)=>{$.ajax({url:`/posts/${e}/comments`,type:"POST",data:{fkey:d,comment:r}}).done((e=>{t(e)})).fail(((e,t,r)=>{n({jqXHR:e,textStatus:t,errorThrown:r})}))}))),n&&"NoFlag"!==t.ReportType&&(i.FlagPromise=new Promise((async(n,r)=>{const i=await o.then((e=>{if(t.GetCustomFlagText&&e.length)return t.GetCustomFlagText(e[0])}));C=!0,$.ajax({url:`//${window.location.hostname}/flags/posts/${e}/add/${t.ReportType}`,type:"POST",data:{fkey:d,otherText:"PostOther"===t.ReportType?i:""}}).done((e=>{setTimeout((()=>C=!1),500),n(e)})).fail(((e,t,n)=>{r({jqXHR:e,textStatus:t,errorThrown:n})}))}))),i}(t,n,A.is(":checked"),I,m);r.CommentPromise&&await async function(e,t){try{!function(e,t){const n=StackExchange.comments.uiForPost($("#comments-"+e));n.addShow(!0,!1),n.showComments(t,null,!1,!0),$(document).trigger("comment",e)}(t,await e)}catch(e){f.displayError("Failed to comment on post"),console.error(e)}}(r.CommentPromise,t),r.FlagPromise&&await async function(e,t,n){try{const r=await e,o=JSON.parse(JSON.stringify(r));if(o.Success)y(t,n);else{const e=`Failed to flag the post with outcome ${o.Outcome}: ${o.Message}.`;b(function(e){let t="Failed to flag: ";return e.Message.match("already flagged")?t+="post already flagged":e.Message.match("limit reached")?t+="post flag limit reached":t+=e.Message,t}(o),e)}}catch(e){b("Failed to flag post",e)}}(r.FlagPromise,p,n.Human)}catch(e){f.displayError(e)}"NoFlag"===n.ReportType&&(h.attr("title",`Performed action: ${n.DisplayName}`),f.showElement(h)),x(n,v,a,u),f.hideElement(w)})),o.text(n.DisplayName),k.append(o),l.append(k),w.append(l)})),R=!1})),_=T,w.append(f.getDivider()),_){const e=f.getOptionLabel("Leave comment",g),t=f.plainDiv.clone();t.append(S),t.append(e),w.append(t),t.children()}const E=f.getOptionLabel("Flag",g),F=f.plainDiv.clone();return l.GreaseMonkeyCache.GetFromCache(f.ConfigurationDefaultNoFlag)&&A.prop("checked",!1),F.append(A),F.append(E),w.append(F),w.append(f.popoverArrow.clone()),w}function x(e,t,n,r){const o="PostSpam"===e.ReportType||"PostOffensive"===e.ReportType,i="AnswerNotAnAnswer"===e.ReportType,s="PostOther"===e.ReportType,a="NoFlag"===e.ReportType;t.forEach((t=>{let u=null;o?u=t.ReportRedFlag():i?u=t.ReportNaa(n,r):(a||s)&&(u=function(e,t){switch(e){case"Needs Editing":return t.ReportNeedsEditing();case"Vandalism":return t.ReportVandalism();case"Looks Fine":return t.ReportLooksFine();case"Duplicate answer":return t.ReportDuplicateAnswer();case"Plagiarism":case"Bad attribution":return t.ReportPlagiarism();default:throw new Error("Could not find custom flag type: "+e)}}(e.DisplayName,t)),u&&u.then((e=>{e&&f.displaySuccess(`Feedback sent to ${t.name}`)})).catch((()=>{f.displayError(`Failed to send feedback to ${t.name}.`)}))}))}t.displayToaster=function(e,t){const n=f.getMessageDiv(e,t);p.append(n),p.removeClass("hide").addClass("show"),v&&clearTimeout(v),h&&clearTimeout(h),h=window.setTimeout(m,f.popupDelay)};let C=!1;function S(){s.MetaSmokeAPI.Setup(f.metaSmokeKey),async function(){for(;"undefined"==typeof Svg;)await new Promise((e=>setTimeout(e,1e3)));r.parseQuestionsAndAnswers((async e=>{if(!e.element.length)return;let t,n=null;const r=f.getNattyIcon().click((()=>{window.open(`https://sentinel.erwaysoftware.com/posts/aid/${e.postId}`,"_blank")})),o=f.getGuttenbergIcon(),c=new a.CopyPastorAPI(e.postId,f.copyPastorKey),d=c.Watch(),p=f.getSmokeyIcon(),h=[];"Answer"===e.type&&(h.push(w(e.postId,r)),h.push(function(e){const t=new i.GenericBotAPI(e);return{name:"Generic Bot",ReportNaa:()=>t.ReportNaa(),ReportRedFlag:()=>Promise.resolve(!1),ReportLooksFine:()=>t.ReportLooksFine(),ReportNeedsEditing:()=>t.ReportNeedsEditing(),ReportVandalism:()=>Promise.resolve(!0),ReportDuplicateAnswer:()=>Promise.resolve(!1),ReportPlagiarism:()=>Promise.resolve(!1)}}(e.postId)),h.push(function(e){return{name:"Guttenberg",ReportNaa:()=>e.ReportFalsePositive(),ReportRedFlag:()=>Promise.resolve(!1),ReportLooksFine:()=>e.ReportFalsePositive(),ReportNeedsEditing:()=>e.ReportFalsePositive(),ReportVandalism:()=>e.ReportFalsePositive(),ReportDuplicateAnswer:()=>e.ReportTruePositive(),ReportPlagiarism:()=>e.ReportTruePositive()}}(c)),d.subscribe((e=>{e.length?(o.attr("Title",`Reported by CopyPastor - ${e.length}`),f.showInlineElement(o),o.click((()=>e.forEach((e=>{window.open("https://copypastor.sobotics.org/posts/"+e.post_id)}))))):o.addClass("d-none")}))),h.push(function(e,t,n){const r=new s.MetaSmokeAPI;return r.Watch(e,t).subscribe((e=>{e?(n.click((()=>{window.open(`https://metasmoke.erwaysoftware.com/post/${e}`,"_blank")})),f.showInlineElement(n)):n.addClass("d-none")})),{name:"Smokey",ReportNaa:()=>r.ReportNaa(e,t),ReportRedFlag:()=>r.ReportRedFlag(e,t),ReportLooksFine:()=>r.ReportLooksFine(e,t),ReportNeedsEditing:()=>r.ReportNeedsEditing(e,t),ReportVandalism:()=>r.ReportVandalism(e,t),ReportDuplicateAnswer:()=>Promise.resolve(!1),ReportPlagiarism:()=>Promise.resolve(!1)}}(e.postId,e.type,p));const v=f.getPerformedActionIcon(),m=f.getReportedIcon();if("Question"===e.page){t=t=e.element.find(".js-post-menu").children().first(),n=f.advancedFlaggingLink.clone();const i="Answer"===e.type?e.question.postTime:e.postTime,s=e.postTime,a=e.element.hasClass("deleted-answer"),d=l.GreaseMonkeyCache.GetFromCache(f.ConfigurationWatchFlags);if(u.WatchFlags().subscribe((t=>{if(!d||C||200!==t.status)return;const n=f.getFlagsUrlRegex(e.postId).exec(t.responseURL);if(!n)return;const r={Id:0,ReportType:n[1],DisplayName:n[1],Human:g(n[1])};x(r,h,s,i),y(m,r.Human)})),!l.GreaseMonkeyCache.GetFromCache(f.ConfigurationLinkDisabled)){const r=await k(e.element,e.postId,e.type,e.authorReputation,e.authorName,s,i,a,m,v,h,c.Promise());n.append(r);const o=n,u=l.GreaseMonkeyCache.GetFromCache(f.ConfigurationOpenOnHover);o[u?"hover":"click"]((e=>{e.stopPropagation(),e.target===o.get(0)&&f.showElement(r)})),u?o.mouseleave((e=>{e.stopPropagation(),f.hideElement(r)})):$(window).click((()=>f.hideElement(r))),t.append(f.gridCellDiv.clone().append(n))}t.append(v),t.append(m),t.append(r),t.append(o),t.append(p)}else t=e.element.find("a.answer-hyperlink"),t.after(p),t.after(o),t.after(r),t.after(m),t.after(v)}))}(),GM_addStyle('\n#snackbar {\n    margin-left: -125px;\n}\n\n#snackbar.show {\n    opacity: 1;\n    transition: opacity 1s ease-out;\n    -ms-transition: opacity 1s ease-out;\n    -moz-transition: opacity 1s ease-out;\n    -webkit-transition: opacity 1s ease-out;\n}\n\n#snackbar.hide {\n    opacity: 0;\n    transition: opacity 1s ease-in;\n    -ms-transition: opacity 1s ease-in;\n    -moz-transition: opacity 1s ease-in;\n    -webkit-transition: opacity 1s ease-in;\n}\n\n.advanced-flagging-dialog {\n    min-width: 10rem !important;\n}\n\n.advanced-flagging-natty-icon {\n    background-image: url("https://i.stack.imgur.com/aMUMt.jpg?s=128&g=1");\n}\n\n.advanced-flagging-gut-icon {\n    background-image: url("https://i.stack.imgur.com/A0JRA.png?s=128&g=1");\n}\n\n.advanced-flagging-smokey-icon {\n    background-image: url("https://i.stack.imgur.com/7cmCt.png?s=128&g=1");\n}'),c.SetupConfiguration(),document.body.appendChild(p.get(0));const e=l.GreaseMonkeyCache.GetFromCache(f.ConfigurationWatchQueues),t=[];e&&u.WatchRequests().subscribe((e=>{if(200!==e.status)return;if(f.isReviewItemRegex.exec(e.responseURL))return void(e=>{const n=JSON.parse(e),o=n.postId,i=$(n.content);t[o]={questionTime:r.parseDate($(".post-signature.owner .user-action-time span",i).attr("title")),answerTime:r.parseDate($(".user-info .user-action-time span",i).attr("title"))}})(e.responseText);const n=f.isDeleteVoteRegex.exec(e.responseURL);if(!n)return;const o=n[1]||n[2],i=parseInt(o,10),s=t[i];s&&$(".answers-subheader").length&&x({Id:0,ReportType:"AnswerNotAnAnswer",DisplayName:"AnswerNotAnAnswer"},[w(i)],s.answerTime,s.questionTime)}))}$((()=>{let e=!1;async function t(){e||(e=!0,S()),$(window).off("focus",t),$(window).off("mousemove",t)}$(window).focus(t),$(window).mousemove(t),document.hasFocus&&document.hasFocus()&&t()}))}.apply(t,r))||(e.exports=o)},6417:(e,t,n)=>{var r,o;r=[n,t,n(2476),n(4205),n(2667),n(6216)],void 0===(o=function(e,t,n,r,o,i){"use strict";function s(){const e=[];return r.flagCategories.forEach((t=>{t.FlagTypes.forEach((t=>{e.push({Id:t.Id,DisplayName:t.DisplayName})}))})),e}function a(){const e=[];return[{text:"Open dropdown on hover",configValue:i.ConfigurationOpenOnHover},{text:"Watch for manual flags",configValue:i.ConfigurationWatchFlags},{text:"Watch for queue responses",configValue:i.ConfigurationWatchQueues},{text:"Disable AdvancedFlagging link",configValue:i.ConfigurationLinkDisabled},{text:"Uncheck 'Comment' by default",configValue:i.ConfigurationDefaultNoComment},{text:"Uncheck 'flag' by default",configValue:i.ConfigurationDefaultNoFlag}].forEach((t=>{const n=o.GreaseMonkeyCache.GetFromCache(t.configValue);e.push(c(t.text,n).attr("data-option-id",t.configValue))})),e}function u(){const e=[],t=o.GreaseMonkeyCache.GetFromCache(i.ConfigurationEnabledFlags)||[];return s().forEach((n=>{const r=t.indexOf(n.Id)>-1;e.push(c(n.DisplayName,r,"flag-type-"+n.Id).children().eq(0).addClass("w25"))})),e}function c(e,t,n=e.toLowerCase().replace(/\s/g,"_")){const r=i.getConfigHtml(n,e),o=r.find("input");return t&&o.prop("checked",!0),r}Object.defineProperty(t,"__esModule",{value:!0}),t.SetupConfiguration=void 0,t.SetupConfiguration=async function(){for(;"undefined"==typeof Svg;)await new Promise((e=>setTimeout(e,1e3)));const e=$(".site-footer--copyright").children(".-list"),t=i.configurationDiv.clone();!function(){if(!o.GreaseMonkeyCache.GetFromCache(i.ConfigurationEnabledFlags)){const e=s().map((e=>e.Id));o.GreaseMonkeyCache.StoreInCache(i.ConfigurationEnabledFlags,e)}}(),function(){const e=i.overlayModal;e.find(".s-modal--close").append(Svg.ClearSm());const t=[{SectionName:"General",Items:a(),onSave:()=>{$(".af-section-general").find("input").each(((e,t)=>{o.GreaseMonkeyCache.StoreInCache($(t).parents().eq(2).data("option-id"),$(t).prop("checked"))}))}},{SectionName:"Flags",Items:u(),onSave:()=>{const e=$(".af-section-flags").find("input").get().filter((e=>$(e).prop("checked"))).map((e=>Number($(e).attr("id").match(/\d+/))));o.GreaseMonkeyCache.StoreInCache(i.ConfigurationEnabledFlags,e)}},{SectionName:"Admin",Items:[$("<a>").text("Clear Metasmoke Configuration").click((async()=>{await n.MetaSmokeAPI.Reset(),i.displayStacksToast("Successfully cleared MS configuration.","success")})),$("<a>").text("Clear chat fkey").click((()=>{o.GreaseMonkeyCache.Unset("StackExchange.ChatApi.FKey"),i.displayStacksToast("Successfully cleared chat fkey.","success")}))].map((e=>e.wrap(i.gridCellDiv.clone()).parent()))}];let r=!0;t.forEach((t=>{r||e.find("#af-modal-description").append("<hr>"),r=!1;const n=i.getSectionWrapper(t.SectionName);e.find("#af-modal-description").append(n),t.Items.forEach((e=>n.append(e)))})),e.find(".s-btn__primary").click((e=>{e.preventDefault(),t.forEach((e=>{e.onSave&&e.onSave()})),i.displayStacksToast("Configuration saved","success"),setTimeout(window.location.reload.bind(window.location),500)})),$("body").append(e),$('label[for="flag-type-12"]').parent().removeClass("w25").css("width","20.8%");const s=$(".af-section-flags").children("div");for(let e=0;e<s.length;e+=5)s.slice(e,e+5).wrapAll(i.inlineCheckboxesWrapper.clone())}();const r=i.configurationLink.clone();$(document).on("click","#af-modal-button",(()=>Stacks.showModal(document.querySelector("#af-config")))),t.append(r),t.insertAfter(e)}}.apply(t,r))||(e.exports=o)},4205:(e,t,n)=>{var r;void 0===(r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flagCategories=void 0,t.flagCategories=[{IsDangerous:!0,AppliesTo:["Answer","Question"],FlagTypes:[{Id:1,DisplayName:"Spam",ReportType:"PostSpam",Human:"as spam"},{Id:2,DisplayName:"Rude or Abusive",ReportType:"PostOffensive",Human:"as R/A"}]},{IsDangerous:!0,AppliesTo:["Answer"],FlagTypes:[{Id:3,DisplayName:"Plagiarism",ReportType:"PostOther",Human:"for moderator attention",Enabled:(e,t)=>e&&!t,GetCustomFlagText:e=>`Possible plagiarism of another answer https:${e.target_url}, as can be seen here https://copypastor.sobotics.org/posts/${e.post_id}`},{Id:4,DisplayName:"Duplicate answer",ReportType:"PostOther",Human:"for moderator attention",Enabled:(e,t)=>e&&t,GetComment:()=>"Please don't add the [same answer to multiple questions](https://meta.stackexchange.com/questions/104227/is-it-acceptable-to-add-a-duplicate-answer-to-several-questions). Answer the best one and flag the rest as duplicates, once you earn enough reputation. If it is not a duplicate, [edit] the answer and tailor the post to the question.",GetCustomFlagText:e=>`The answer is a repost of their other answer https:${e.target_url}, but as there are slight differences as seen here https://copypastor.sobotics.org/posts/${e.post_id}, an auto flag wouldn't be raised.`},{Id:18,DisplayName:"Bad attribution",ReportType:"PostOther",Human:"for moderator attention",Enabled:(e,t)=>e&&!t,GetCustomFlagText:e=>`This post is copied from [another answer](https:${e.target_url}), as can be seen [here](https://copypastor.sobotics.org/posts/${e.post_id}). The author only added a link to the other answer, which is [not the proper way of attribution](https://stackoverflow.blog/2009/06/25/attribution-required/).`}]},{IsDangerous:!1,AppliesTo:["Answer"],FlagTypes:[{Id:5,DisplayName:"Link Only",ReportType:"AnswerNotAnAnswer",Human:"as NAA",GetComment:()=>"A link to a solution is welcome, but please ensure your answer is useful without it: [add context around the link](//meta.stackexchange.com/a/8259) so your fellow users will have some idea what it is and why it’s there, then quote the most relevant part of the page you're linking to in case the target page is unavailable. [Answers that are little more than a link may be deleted.](/help/deleted-answers)"},{Id:6,DisplayName:"Not an answer",ReportType:"AnswerNotAnAnswer",Human:"as NAA",GetComment:e=>e.Reputation<50?"This does not provide an answer to the question. You can [search for similar questions](/search), or refer to the related and linked questions on the right-hand side of the page to find an answer. If you have a related but different question, [ask a new question](/questions/ask), and include a link to this one to help provide context. See: [Ask questions, get answers, no distractions](/tour)":"This post doesn't look like an attempt to answer this question. Every post here is expected to be an explicit attempt to *answer* this question; if you have a critique or need a clarification of the question or another answer, you can [post a comment](/help/privileges/comment) (like this one) directly below it. Please remove this answer and create either a comment or a new question. See: [Ask questions, get answers, no distractions](/tour)"},{Id:7,DisplayName:"Thanks",ReportType:"AnswerNotAnAnswer",Human:"as NAA",GetComment:e=>e.Reputation<15?"Please don't add _\"thanks\"_ as answers. They don't actually provide an answer to the question, and can be perceived as noise by its future visitors. Once you [earn](https://meta.stackoverflow.com/q/146472) enough [reputation](/help/whats-reputation), you will gain privileges to [upvote answers](/help/privileges/vote-up) you like. This way future visitors of the question will see a higher vote count on that answer, and the answerer will also be rewarded with reputation points. See [Why is voting important](/help/why-vote).":"Please don't add _\"thanks\"_ as answers. They don't actually provide an answer to the question, and can be perceived as noise by its future visitors. Instead, [upvote answers](/help/privileges/vote-up) you like. This way future visitors of the question will see a higher vote count on that answer, and the answerer will also be rewarded with reputation points. See [Why is voting important](/help/why-vote)."},{Id:8,DisplayName:"Me too",ReportType:"AnswerNotAnAnswer",Human:"as NAA",GetComment:()=>"Please don't add *\"Me too\"* as answers. It doesn't actually provide an answer to the question. If you have a different but related question, then [ask](/questions/ask) it (reference this one if it will help provide context). If you're interested in this specific question, you can [upvote](/help/privileges/vote-up) it, leave a [comment](/help/privileges/comment), or start a [bounty](/help/privileges/set-bounties) once you have enough [reputation](/help/whats-reputation)."},{Id:9,DisplayName:"Library",ReportType:"AnswerNotAnAnswer",Human:"as NAA",GetComment:()=>"Please don't just post some tool or library as an answer. At least demonstrate [how it solves the problem](https://meta.stackoverflow.com/a/251605) in the answer itself."},{Id:10,DisplayName:"Comment",ReportType:"AnswerNotAnAnswer",Human:"as NAA",GetComment:e=>e.Reputation<50?"This does not provide an answer to the question. Once you have sufficient [reputation](/help/whats-reputation) you will be able to [comment on any post](/help/privileges/comment); instead, [provide answers that don't require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead).":"This does not provide an answer to the question. Please write a comment instead."},{Id:14,DisplayName:"Duplicate",ReportType:"AnswerNotAnAnswer",Human:"as NAA",GetComment:()=>"Instead of posting an answer which merely links to another answer, please instead [flag the question](/help/privileges/flag-posts) as a duplicate."},{Id:17,DisplayName:"Non English",ReportType:"AnswerNotAnAnswer",Human:"as NAA",GetComment:()=>"Welcome to Stack Overflow. Please write your answer in English, as Stack Overflow is an [English only site](https://meta.stackoverflow.com/a/297680)."},{Id:18,DisplayName:"Should be an edit",ReportType:"AnswerNotAnAnswer",Human:"as NAA",GetComment:()=>"Please use the edit link on your question to add additional information. The Post Answer button should be used only for complete answers to the question."}]},{IsDangerous:!1,AppliesTo:["Answer","Question"],FlagTypes:[{Id:11,DisplayName:"Looks Fine",ReportType:"NoFlag"},{Id:12,DisplayName:"Needs Editing",ReportType:"NoFlag"},{Id:13,DisplayName:"Vandalism",ReportType:"NoFlag"}]}]}.apply(t,[n,t]))||(e.exports=r)},6216:(e,t,n)=>{var r,o;r=[n,t,n(5422)],void 0===(o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showConfirmModal=t.Delay=t.showMSTokenPopupAndGet=t.inlineCheckboxesWrapper=t.overlayModal=t.configurationLink=t.configurationDiv=t.advancedFlaggingLink=t.gridCellDiv=t.plainDiv=t.dropdownItem=t.reportLink=t.popoverArrow=t.dropDown=t.popupWrapper=t.getConfigHtml=t.getOptionLabel=t.getCategoryDiv=t.getOptionBox=t.getDivider=t.getSectionWrapper=t.getMessageDiv=t.getSmokeyIcon=t.getGuttenbergIcon=t.getNattyIcon=t.getReportedIcon=t.getPerformedActionIcon=t.displayError=t.displaySuccess=t.showInlineElement=t.hideElement=t.showElement=t.getFlagsUrlRegex=t.isDeleteVoteRegex=t.isReviewItemRegex=t.popupDelay=t.displayStacksToast=t.settingUpBody=t.settingUpTitle=t.MetaSmokeDisabledConfig=t.MetaSmokeUserKeyConfig=t.CacheChatApiFkey=t.ConfigurationLinkDisabled=t.ConfigurationEnabledFlags=t.ConfigurationWatchQueues=t.ConfigurationWatchFlags=t.ConfigurationDefaultNoComment=t.ConfigurationDefaultNoFlag=t.ConfigurationOpenOnHover=t.nattyFeedbackUrl=t.genericBotKey=t.copyPastorServer=t.copyPastorKey=t.metaSmokeKey=t.soboticsRoomId=void 0,t.soboticsRoomId=111347,t.metaSmokeKey="0a946b9419b5842f99b052d19c956302aa6c6dd5a420b043b20072ad2efc29e0",t.copyPastorKey="wgixsmuiz8q8px9kyxgwf8l71h7a41uugfh5rkyj",t.copyPastorServer="https://copypastor.sobotics.org",t.genericBotKey="Cm45BSrt51FR3ju",t.nattyFeedbackUrl="https://logs.sobotics.org/napi/api/feedback",t.ConfigurationOpenOnHover="AdvancedFlagging.Configuration.OpenOnHover",t.ConfigurationDefaultNoFlag="AdvancedFlagging.Configuration.DefaultNoFlag",t.ConfigurationDefaultNoComment="AdvancedFlagging.Configuration.DefaultNoComment",t.ConfigurationWatchFlags="AdvancedFlagging.Configuration.WatchFlags",t.ConfigurationWatchQueues="AdvancedFlagging.Configuration.WatchQueues",t.ConfigurationEnabledFlags="AdvancedFlagging.Configuration.EnabledFlags",t.ConfigurationLinkDisabled="AdvancedFlagging.Configuration.LinkDisabled",t.CacheChatApiFkey="StackExchange.ChatApi.FKey",t.MetaSmokeUserKeyConfig="MetaSmoke.UserKey",t.MetaSmokeDisabledConfig="MetaSmoke.Disabled",t.settingUpTitle="Setting up MetaSmoke",t.settingUpBody="If you do not wish to connect, press cancel and this popup won't show up again. To reset configuration, see the footer of Stack Overflow.",t.displayStacksToast=(e,t)=>StackExchange.helpers.showToast(e,{type:t}),t.popupDelay=4e3,t.isReviewItemRegex=/(\/review\/next-task)|(\/review\/task-reviewed\/)/,t.isDeleteVoteRegex=/(\d+)\/vote\/10|(\d+)\/recommend-delete/,t.getFlagsUrlRegex=e=>new RegExp(`/flags/posts/${e}/add/(AnswerNotAnAnswer|PostOffensive|PostSpam|NoFlag|PostOther)`),t.showElement=e=>e.addClass("d-block").removeClass("d-none"),t.hideElement=e=>e.addClass("d-none").removeClass("d-block"),t.showInlineElement=e=>e.addClass("d-inline-block").removeClass("d-none"),t.displaySuccess=e=>n.displayToaster(e,"success"),t.displayError=e=>n.displayToaster(e,"danger"),t.getPerformedActionIcon=()=>$("<div>").attr("class","p2 d-none").append(Svg.CheckmarkSm().addClass("fc-green-500")),t.getReportedIcon=()=>$("<div>").attr("class","p2 d-none").append(Svg.Flag().addClass("fc-red-500"));const r=$("<div>").attr("class","advanced-flagging-icon bg-cover c-pointer w16 h16 d-none m4");t.getNattyIcon=()=>r.clone().attr("title","Reported by Natty").addClass("advanced-flagging-natty-icon"),t.getGuttenbergIcon=()=>r.clone().attr("title","Reported by Guttenberg").addClass("advanced-flagging-gut-icon"),t.getSmokeyIcon=()=>r.clone().attr("title","Reported by Smokey").addClass("advanced-flagging-smokey-icon"),t.getMessageDiv=(e,t)=>$("<div>").attr("class","p12 bg-"+t).text(e),t.getSectionWrapper=e=>$("<fieldset>").attr("class",`grid gs8 gsy fd-column af-section-${e.toLowerCase()}`).html(`<h2 class="grid--cell">${e}</h2>`),t.getDivider=()=>$("<hr>").attr("class","my8"),t.getOptionBox=e=>$("<input>").attr("type","checkbox").attr("name",e).attr("id",e).attr("class","s-checkbox"),t.getCategoryDiv=e=>$("<div>").attr("class","advanced-flagging-category bar-md"+(e?" bg-red-200":"")),t.getOptionLabel=(e,t)=>$("<label>").text(e).attr("for",t).attr("class","s-label ml4 va-middle fs-body1 fw-normal"),t.getConfigHtml=(e,t)=>$(`\n<div>\n  <div class="grid gs8">\n    <div class="grid--cell"><input class="s-checkbox" type="checkbox" id="${e}"/></div>\n    <label class="grid--cell s-label fw-normal" for="${e}">${t}</label>\n  </div>\n</div>`),t.popupWrapper=$("<div>").attr("id","snackbar").attr("class","hide fc-white p16 fs-body3 ps-fixed ta-center z-popover l50 t32 wmn2"),t.dropDown=$("<div>").attr("class","advanced-flagging-dialog s-popover s-anchors s-anchors__default p6 mt2 c-default d-none"),t.popoverArrow=$("<div>").attr("class","s-popover--arrow s-popover--arrow__tc"),t.reportLink=$("<a>").attr("class","d-inline-block my4"),t.dropdownItem=$("<div>").attr("class","advanced-flagging-dropdown-item px4"),t.plainDiv=$("<div>"),t.gridCellDiv=$("<div>").attr("class","grid--cell"),t.advancedFlaggingLink=$("<button>").attr("type","button").attr("class","s-btn s-btn__link").text("Advanced Flagging"),t.configurationDiv=$("<div>").attr("class","advanced-flagging-configuration-div ta-left pt6"),t.configurationLink=$("<a>").attr("id","af-modal-button").text("AdvancedFlagging configuration"),t.overlayModal=$('\n<aside class="s-modal" id="af-config" role="dialog" aria-hidden="true" data-controller="s-modal" data-target="s-modal.modal">\n  <div class="s-modal--dialog s-modal__full w60" role="document">\n    <h1 class="s-modal--header fw-body c-movey" id="af-modal-title">AdvancedFlagging configuration</h1>\n    <div class="s-modal--body fs-body2" id="af-modal-description"></div>\n    <div class="grid gs8 gsx s-modal--footer">\n      <button class="grid--cell s-btn s-btn__primary" type="button">Save changes</button>\n      <button class="grid--cell s-btn" type="button" data-action="s-modal#hide">Cancel</button>\n    </div>\n    <button class="s-modal--close s-btn s-btn__muted" href="#" aria-label="Close" data-action="s-modal#hide"></button>\n  </div>\n</aside>');const o=$("<div>").attr("class","grid");t.inlineCheckboxesWrapper=t.gridCellDiv.clone().append(o.clone());const i=$('\n<aside class="s-modal" id="af-ms-token" role="dialog" aria-hidden="true" data-controller="s-modal" data-target="s-modal.modal">\n  <div class="s-modal--dialog" role="document">\n    <h1 class="s-modal--header fw-bold c-movey" id="af-modal-title">Authenticate MS with AF</h1>\n    <div class="s-modal--body fs-body2" id="af-modal-description">\n      <div class="grid gs4 gsy fd-column">\n        <div class="grid--cell">\n          <label class="d-block s-label" for="example-item1">Metasmoke access token\n            <p class="s-description mt2">Once you\'ve authenticated Advanced Flagging with metasmoke, you\'ll be given a code; enter it below:</p>\n          </label>\n        </div>\n      <div class="grid ps-relative"><input class="s-input" type="text" id="advanced-flagging-ms-token" placeholder="Enter the code here"></div>\n      </div>\n    </div>\n    <div class="grid gs8 gsx s-modal--footer">\n      <button class="grid--cell s-btn s-btn__primary" id="advanced-flagging-save-ms-token" type="button">Submit</button>\n      <button class="grid--cell s-btn" type="button" data-action="s-modal#hide">Cancel</button>\n    </div>\n    <button class="s-modal--close s-btn s-btn__muted" href="#" aria-label="Close" data-action="s-modal#hide"></button>\n  </div>\n</aside>');t.showMSTokenPopupAndGet=function(){return new Promise((e=>{StackExchange.helpers.showModal(i),$("#advanced-flagging-save-ms-token").on("click",(()=>{const t=$("#advanced-flagging-ms-token").val();$("#af-ms-token").remove(),e(t)}))}))},t.Delay=async function(e){return await new Promise((t=>setTimeout(t,e)))},t.showConfirmModal=async function(e,t){return await StackExchange.helpers.showConfirmModal({title:e,bodyHtml:t,buttonLabel:"Authenticate!"})}}.apply(t,r))||(e.exports=o)},2667:(e,t,n)=>{var r;void 0===(r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GreaseMonkeyCache=void 0;class n{static async GetAndCache(e,t,r){const o=n.GetFromCache(e);if(o)return o;const i=await t();return n.StoreInCache(e,i,r),i}static ClearAll(e,t){GM_listValues().forEach((r=>{if(e.filter((e=>r.match(e))).length)if(t){const e=GM_getValue(r,void 0);t(e)&&n.Unset(r)}else n.Unset(r)}))}static GetFromCache(e){const t=GM_getValue(e,void 0);if(!t)return;const n=JSON.parse(t);return n.Expires&&new Date(n.Expires)<new Date?void 0:n.Data}static StoreInCache(e,t,n){const r=JSON.stringify({Expires:n,Data:t});GM_setValue(e,r)}static Unset(e){GM_deleteValue(e)}}t.GreaseMonkeyCache=n}.apply(t,[n,t]))||(e.exports=r)},5166:(e,t,n)=>{var r,o;r=[n,t,n(2667),n(6216)],void 0===(o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatApi=void 0;class o{constructor(e="https://chat.stackoverflow.com"){this.chatRoomUrl=`${e}`}static GetExpiryDate(){const e=new Date;return e.setDate(e.getDate()+1),e}async GetChannelFKey(e){const t=new Promise(((t,n)=>{this.GetChannelPage(e).then((e=>{const r=$(e).filter("#fkey");r.length||n("Could not find fkey");const o=r.val();t(o)}))})),i=o.GetExpiryDate();return n.GreaseMonkeyCache.GetAndCache(r.CacheChatApiFkey,(()=>t),i)}GetChatUserId(){return StackExchange.options.user.userId}SendMessage(e,t){return new Promise(((r,o)=>{const i=async()=>{const n=this.GetChannelFKey(e),o=await n;GM_xmlhttpRequest({method:"POST",url:`${this.chatRoomUrl}/chats/${e}/messages/new`,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:"text="+encodeURIComponent(t)+"&fkey="+o,onload:e=>{200===e.status?r():a(e.statusText)},onerror:e=>{a(e)}})};let s=0;const a=e=>{if(s++,s<3){const e="StackExchange.ChatApi.FKey";n.GreaseMonkeyCache.Unset(e),i()}else o(e)};i()}))}GetChannelPage(e){return new Promise(((t,n)=>{GM_xmlhttpRequest({method:"GET",url:`${this.chatRoomUrl}/rooms/${e}`,onload:e=>{200===e.status?t(e.responseText):n(e.statusText)},onerror:e=>n(e)})}))}}t.ChatApi=o}.apply(t,r))||(e.exports=o)},7579:(e,t,n)=>{var r,o;r=[n,t,n(9666),n(1287),n(5166),n(6216)],void 0===(o=function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyPastorAPI=void 0,t.CopyPastorAPI=class{constructor(e,t){this.answerId=e,this.key=t,this.subject=new n.Subject,this.replaySubject=new n.ReplaySubject(1),this.subject.subscribe(this.replaySubject)}Watch(){return new Promise(((e,t)=>{const n=`${i.copyPastorServer}/posts/findTarget?url=//${window.location.hostname}/a/${this.answerId}`;GM_xmlhttpRequest({method:"GET",url:n,onload:n=>{const r=JSON.parse(n.responseText);"success"===r.status?e(r.posts):t(r.message)},onerror:e=>{t(e)}})})).then((e=>this.subject.next(e))).catch((e=>this.subject.error(e))),this.subject}async Promise(){return await n.firstValueFrom(this.replaySubject.pipe(r.take(1)))}async ReportTruePositive(){return this.SendFeedback("tp")}async ReportFalsePositive(){return this.SendFeedback("fp")}async SendFeedback(e){const t=$(".top-bar .my-profile .gravatar-wrapper-24").attr("title"),n=(new o.ChatApi).GetChatUserId(),r=(await this.Promise()).map((r=>({post_id:r.post_id,feedback_type:e,username:t,link:`https://chat.stackoverflow.com/users/${n}`,key:this.key}))).map((e=>new Promise(((t,n)=>{GM_xmlhttpRequest({method:"POST",url:`${i.copyPastorServer}/feedback/create`,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:"post_id="+e.post_id+"&feedback_type="+e.feedback_type+"&username="+e.username+"&link="+e.link+"&key="+e.key,onload:e=>{200===e.status?t(!0):n(JSON.parse(e.responseText))},onerror:e=>{n(e)}})})))),s=await Promise.all(r);return!!s.length&&s.every((e=>e))}}}.apply(t,r))||(e.exports=o)},6726:(e,t,n)=>{var r,o;r=[n,t,n(1025),n(6216)],void 0===(o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericBotAPI=void 0,t.GenericBotAPI=class{constructor(e){this.answerId=e}async ReportNaa(){return await this.makeTrackRequest()}async ReportRedFlag(){return await this.makeTrackRequest()}async ReportLooksFine(){return!1}async ReportNeedsEditing(){return!1}computeContentHash(e){if(!e)return 0;let t=0;for(let n=0;n<e.length;++n)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}makeTrackRequest(){return new Promise(((e,t)=>{n.IsStackOverflow()&&$("#answer-"+this.answerId+" .js-post-body").length||e(!1),$(".top-bar .my-profile .gravatar-wrapper-24").length||t("Flag Tracker: Could not find username.");const o=$(".top-bar .my-profile .gravatar-wrapper-24").attr("title"),i=this.computeContentHash($("#answer-"+this.answerId+" .js-post-body").html().trim());GM_xmlhttpRequest({method:"POST",url:"https://so.floern.com/api/trackpost.php",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:`key=${r.genericBotKey}&postId=`+this.answerId+"&contentHash="+i+"&flagger="+encodeURIComponent(o),onload:n=>{200!==n.status&&t("Flag Tracker Error: Status "+n.status),e(!0)},onerror:e=>{t("Flag Tracker Error: "+e.responseText)}})}))}}}.apply(t,r))||(e.exports=o)},2476:(e,t,n)=>{var r,o;r=[n,t,n(9666),n(1287),n(2667),n(6216)],void 0===(o=function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetaSmokeAPI=void 0;class s{static Reset(){o.GreaseMonkeyCache.Unset(i.MetaSmokeDisabledConfig),o.GreaseMonkeyCache.Unset(i.MetaSmokeUserKeyConfig)}static IsDisabled(){return o.GreaseMonkeyCache.GetFromCache(i.MetaSmokeDisabledConfig)||!1}static async Setup(e){s.appKey=e,s.getUserKey()}static QueryMetaSmoke(e,t){this.pendingTimeout&&clearTimeout(this.pendingTimeout),this.pendingPosts.push({postId:e,postType:t}),this.pendingTimeout=window.setTimeout(s.QueryMetaSmokeInternal,1e3)}static QueryMetaSmokeInternal(){const e={},t=[];for(const n of s.pendingPosts){const r=s.GetQueryUrl(n.postId,n.postType);e[r]={postId:n.postId,postType:n.postType},t.push(r)}s.pendingPosts=[];const n=t.join();s.IsDisabled()||$.ajax({type:"GET",url:"https://metasmoke.erwaysoftware.com/api/v2.0/posts/urls",data:{urls:n,key:`${s.appKey}`}}).done((t=>{for(const n of t.items){const t=e[n.link];if(!t)continue;const r=s.GetObservableKey(t.postId,t.postType),o=s.ObservableLookup[r];o&&o.next(n.id),delete e[n.link]}for(const t in e){if(!Object.prototype.hasOwnProperty.call(e,t))return;const n=e[t],r=s.GetObservableKey(n.postId,n.postType),o=s.ObservableLookup[r];o&&o.next(null)}})).fail((t=>{for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))return;const r=e[n],o=s.GetObservableKey(r.postId,r.postType),i=s.ObservableLookup[o];i&&i.error(t)}}))}static GetQueryUrl(e,t){return`//${window.location.hostname}/${"Answer"===t?"a":"questions"}/${e}`}static async GetSmokeyId(e,t){const o=this.GetObservableKey(e,t),i=s.ObservableLookup[o];return i?await n.firstValueFrom(i.pipe(r.take(1))):0}static GetObservableKey(e,t){return JSON.stringify({postId:e,postType:t})}static getUserKey(){return o.GreaseMonkeyCache.GetAndCache(i.MetaSmokeUserKeyConfig,(()=>new Promise((async(e,t)=>{let n=s.actualPromise;n||(n=s.codeGetter(`https://metasmoke.erwaysoftware.com/oauth/request?key=${s.appKey}`),s.actualPromise=n);const r=await n;r&&$.ajax({url:"https://metasmoke.erwaysoftware.com/oauth/token?key="+s.appKey+"&code="+r,method:"GET"}).done((t=>e(t.token))).fail((e=>t(e)))}))))}Watch(e,t){const r=s.GetObservableKey(e,t);if(!s.ObservableLookup[r]){const e=new n.ReplaySubject(1);s.ObservableLookup[r]=e}return s.QueryMetaSmoke(e,t),s.ObservableLookup[r]}async ReportNaa(e,t){const n=await s.GetSmokeyId(e,t);return!!n&&(await this.SendFeedback(n,"naa-"),!0)}async ReportRedFlag(e,t){const n=await s.GetSmokeyId(e,t);if(n)return await this.SendFeedback(n,"tpu-"),!0;{const n=`//${window.location.hostname}/${"Answer"===t?"a":"q"}/${e}`,r=new Promise((async(e,t)=>{const r=await s.getUserKey();r&&$.ajax({type:"POST",url:"https://metasmoke.erwaysoftware.com/api/w/post/report",data:{post_link:n,key:s.appKey,token:r}}).done((()=>e(!0))).fail((()=>t()))})),o=await r;return await i.Delay(1e3),s.QueryMetaSmoke(e,t),o}}async ReportLooksFine(e,t){const n=await s.GetSmokeyId(e,t);return!!n&&(await this.SendFeedback(n,"fp-"),!0)}async ReportNeedsEditing(e,t){const n=await s.GetSmokeyId(e,t);return!!n&&(await this.SendFeedback(n,"fp-"),!0)}async ReportVandalism(e,t){const n=await s.GetSmokeyId(e,t);return!!n&&(await this.SendFeedback(n,"tp-"),!0)}SendFeedback(e,t){return new Promise(((n,r)=>{s.getUserKey().then((o=>{$.ajax({type:"POST",url:`https://metasmoke.erwaysoftware.com/api/w/post/${e}/feedback`,data:{type:t,key:s.appKey,token:o}}).done((()=>n())).fail((()=>r()))}))}))}}t.MetaSmokeAPI=s,s.ObservableLookup={},s.pendingPosts=[],s.pendingTimeout=null,s.codeGetter=async e=>{if(!s.IsDisabled()){if(await i.showConfirmModal(i.settingUpTitle,i.settingUpBody))return window.open(e,"_blank"),await i.Delay(100),await new Promise((e=>{const t=async()=>{$(window).off("focus",t);const n=await i.showMSTokenPopupAndGet();e(n||void 0)};$(window).focus(t)}));o.GreaseMonkeyCache.StoreInCache(i.MetaSmokeDisabledConfig,!0)}}}.apply(t,r))||(e.exports=o)},5405:(e,t,n)=>{var r,o;r=[n,t,n(9666),n(1287),n(1025),n(5166),n(6216)],void 0===(o=function(e,t,n,r,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NattyAPI=void 0;const a=111347;t.NattyAPI=class{constructor(e){this.chat=new i.ChatApi,this.subject=new n.Subject,this.replaySubject=new n.ReplaySubject,this.answerId=e}Watch(){return this.subject.subscribe(this.replaySubject),o.IsStackOverflow()&&new Promise(((e,t)=>{let n=0;const r=e=>{n++,n<3?o():t("Failed to retrieve natty report: "+e)},o=()=>{GM_xmlhttpRequest({method:"GET",url:`${s.nattyFeedbackUrl}/${this.answerId}`,onload:t=>{if(200===t.status){const n=JSON.parse(t.responseText);e(n.items&&n.items[0])}else r(t.responseText)},onerror:e=>{r(e)}})};o()})).then((e=>this.subject.next(e))).catch((e=>this.subject.error(e))),this.subject}async ReportNaa(e,t){if(e<t)throw new Error("Answer must be posted after the question");if(!o.IsStackOverflow())return!1;if(await this.WasReported())return await this.chat.SendMessage(a,`@Natty feedback https://stackoverflow.com/a/${this.answerId} tp`),!0;{const n=this.DaysBetween(e,new Date),r=this.DaysBetween(t,e);if(isNaN(n))throw new Error("Invalid answerDate provided");if(isNaN(r))throw new Error("Invalid questionDate provided");if(n>30||r<30)return!1;const o=this.chat.SendMessage(a,`@Natty report https://stackoverflow.com/a/${this.answerId}`);return await o.then((()=>this.subject.next(!0))),!0}}async ReportRedFlag(){return!!o.IsStackOverflow()&&!!await this.WasReported()&&(await this.chat.SendMessage(a,`@Natty feedback https://stackoverflow.com/a/${this.answerId} tp`),!0)}async ReportLooksFine(){return!!o.IsStackOverflow()&&!!await this.WasReported()&&(await this.chat.SendMessage(a,`@Natty feedback https://stackoverflow.com/a/${this.answerId} fp`),!0)}async ReportNeedsEditing(){return!!o.IsStackOverflow()&&!!await this.WasReported()&&(await this.chat.SendMessage(a,`@Natty feedback https://stackoverflow.com/a/${this.answerId} ne`),!0)}async WasReported(){return await n.firstValueFrom(this.replaySubject.pipe(r.take(1)))}DaysBetween(e,t){return(t-e)/864e5}}}.apply(t,r))||(e.exports=o)},9651:(e,t,n)=>{var r,o;r=[n,t,n(9666),n(1287)],void 0===(o=function(e,t,n,r){"use strict";function o(){const e=new n.Subject;return function(t){if(s.push((t=>{e.next(t)})),i)return;const n=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){this.addEventListener("load",(()=>{s.forEach((e=>e(this)))}),!1),n.apply(this,arguments)},i=!0}(),e}Object.defineProperty(t,"__esModule",{value:!0}),t.WatchRequests=t.WatchFlags=void 0,t.WatchFlags=function(){return o().pipe(r.filter((e=>!!/flags\/posts\/\d+\/add\/[a-zA-Z]+/.exec(e.responseURL))))},t.WatchRequests=o;let i=!1;const s=[]}.apply(t,r))||(e.exports=o)},1025:(e,t,n)=>{var r;void 0===(r=function(e,t){"use strict";function n(){return!!window.location.href.match(/\/tools\/new-answers-old-questions/)}function r(){return!!window.location.href.match(/\/admin/)}function o(){return!!window.location.href.match(/\/questions\/\d+.*/)}function i(e){const t=parseInt(e.find(".vote-count-post").text(),10),n=l(e.find(".user-info .reputation-score").last()),{authorName:r,authorId:o}=f(e.find(".user-info .user-details").last());return{score:t,authorReputation:n,authorName:r,authorId:o,postTime:d(e.find(".user-info .relativetime").last())}}function s(e,t,n){const r=parseInt(e.attr("data-answerid"),10),o=i(e);e.find(".answercell").bind("destroyed",(()=>{setTimeout((()=>{s($(`#answer-${r}`),t,n)}))})),t({type:"Answer",element:e,page:"Question",postId:r,question:n,postTime:o.postTime,score:o.score,authorReputation:o.authorReputation,authorName:o.authorName,authorId:o.authorId})}function a(e){let t;const n=r=>{const o=parseInt(r.attr("data-questionid"),10),s=i(r);r.find(".postcell").bind("destroyed",(()=>{setTimeout((()=>{const e=$(`[data-questionid="${o}"]`);n(e)}))})),t={type:"Question",element:r,page:"Question",postId:o,postTime:s.postTime,score:s.score,authorReputation:s.authorReputation,authorName:s.authorName,authorId:s.authorId},e(t)},r=$(".question");n(r),$(".answer").each(((n,r)=>s($(r),e,t)))}function u(){return!!window.location.href.match(/\/users\/flag-summary\//)}function c(){return!!window.location.href.match(/\/users\/\d+.*/)}function l(e){let t=e.text();if(-1!==t.indexOf("k")&&(t=e.attr("title").substr("reputation score ".length)),t=t.replace(",",""),""!==t.trim())return parseInt(t,10)}function f(e){const t=e.find("a"),n=t.text(),r=t.attr("href");let o;return r&&(o=parseInt(r.split("/")[2],10)),{authorName:n,authorId:o}}function d(e){return e.hasClass("relativetime")||(e=e.find(".relativetime")),p(e.attr("title"))}function p(e){return new Date(e.replace(" ","T"))}Object.defineProperty(t,"__esModule",{value:!0}),t.parseDate=t.parseQuestionsAndAnswers=t.isUserPage=t.isFlagsPage=t.isQuestionPage=t.isModPage=t.isNatoPage=t.IsStackOverflow=void 0,$.event.special.destroyed={remove:e=>{e.handler&&e.handler()}},t.IsStackOverflow=function(){return!!window.location.href.match(/^https:\/\/stackoverflow.com/)},t.isNatoPage=n,t.isModPage=r,t.isQuestionPage=o,t.isFlagsPage=u,t.isUserPage=c,t.parseQuestionsAndAnswers=function(e){if(n())!function(e){$(".answer-hyperlink").parent().parent().each(((t,n)=>{const r=$(n),o=parseInt(r.find(".answer-hyperlink").attr("href").split("#")[1],10),i=d(r.find(".user-action-time")),s=d(r.find("td .relativetime")),a=l(r.find(".reputation-score")),{authorName:u,authorId:c}=f(r.find(".user-details"));e({type:"Answer",element:r,page:"NATO",postId:o,answerTime:i,questionTime:s,authorReputation:a,authorName:u,authorId:c})}))}(e);else if(o())a(e);else if(u())!function(e){const t=$(".flagged-post");for(let n=0;n<t.length;n++){const r=$(t[n]),o=r.find(".answer-hyperlink").length?"Answer":"Question",i=parseInt("Answer"===o?r.find(".answer-hyperlink").attr("href").split("#")[1]:r.find(".question-hyperlink").attr("href").split("/")[2],10),s=parseInt(r.find(".answer-votes").text(),10),{authorName:a,authorId:u}=f(r.find(".post-user-info")),c=d(r.find(".post-user-info .relativetime")),l=d(r.find(".mod-flag .relativetime")),p=r.find(".flag-outcome").text().trim().split(" - ");e({type:o,element:r,page:"Flags",postId:i,score:s,postTime:c,handledTime:l,handledResult:p[0].trim(),handledComment:p.slice(1).join(" - ").trim(),authorName:a,authorId:u})}}(e);else{if(r()||c()||StackExchange.options.user.isModerator)return;!function(e){const t=$(".question-hyperlink");for(let n=0;n<t.length;n++){const r=$(t[n]);let o=r.attr("href").split("/")[2];o.indexOf("_")>=0&&(o=o.split("_")[1]);const i=parseInt(o,10);e({type:"Question",element:r,page:"Unknown",postId:i})}$(".answer-hyperlink").each(((t,n)=>{const r=$(n);let o=r.attr("href").split("#")[1];o.indexOf("_")>=0&&(o=o.split("_")[1]);const i=parseInt(o,10);e({type:"Answer",element:r,page:"Unknown",postId:i})}))}(e)}},t.parseDate=p}.apply(t,[n,t]))||(e.exports=r)},655:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>o,mG:()=>i,Jh:()=>s,XA:()=>a,CR:()=>u,fl:()=>c,KL:()=>l});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}function l(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=a(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(5422)})();